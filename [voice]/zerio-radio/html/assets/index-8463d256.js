import{d as S,o as v,c as b,S as l,q as u,U as f,N as h,V as p,W as F,G as $,v as q,F as R,u as N,X as L,Y as B,e as y,B as W,Z as U,_ as J,$ as Y,a0 as G,H as ne,a1 as oe}from"./@vue-ba2db0dd.js";import{s as K}from"./vue3-moveable-ac0f08c9.js";import{S as M}from"./sweetalert2-f5e3aac5.js";import{V as T,R as j,a as _,b as H,c as se,d as ie,e as le,f as re,g as ue,h as de,i as ce}from"./vuetify-228af294.js";import"./moveable-a88031a3.js";import"./framework-utils-6dbb37c6.js";import"./react-simple-compat-7a65e6b5.js";import"./@egjs-8ad550bb.js";import"./@daybrush-ae1f0580.js";import"./react-compat-moveable-2fc7f24a.js";import"./@scena-e1e05698.js";import"./css-to-mat-2227cd45.js";import"./overlap-area-02b6251d.js";import"./gesto-e071d06a.js";import"./react-compat-css-styled-deb89af7.js";import"./css-styled-798509d7.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}})();const X=(e,i)=>e.replace(/{(\d+)}/g,function(s,r){return typeof i[r]<"u"?i[r]:s}),O=async(e,i)=>await(await fetch(`https://zerio-radio/${e}`,{body:JSON.stringify(i||{}),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),me=[{text:"150%",value:1.5},{text:"140%",value:1.4},{text:"130%",value:1.3},{text:"120%",value:1.2},{text:"110%",value:1.1},{text:"100%",value:1},{text:"90%",value:.9},{text:"80%",value:.8},{text:"70%",value:.7},{text:"60%",value:.6},{text:"50%",value:.5}],fe={key:0,class:"top-container"},ve={class:"top-time unselectable"},ge={class:"top-volume unselectable"},be=S({__name:"Top",props:["poweredOn","settings","time"],setup(e){return(i,s)=>e.poweredOn?(v(),b("div",fe,[l("div",null,[u(T,{class:"unselectable top-battery"},{default:f(()=>[h("mdi-battery")]),_:1}),l("h1",ve,p(e.time),1)]),l("div",null,[u(T,{class:"unselectable top-volume-icon"},{default:f(()=>[h("mdi-volume-high")]),_:1}),l("h1",ge,p(e.settings.volume)+"%",1)])])):F("",!0)}});const V=(e,i)=>{const s=e.__vccOpts||e;for(const[r,a]of i)s[r]=a;return s},ye=V(be,[["__scopeId","data-v-b3a018ed"]]),pe=S({__name:"ExtraButtons",props:["settings","currentTab","poweredOn","currentFrequency","translations"],emits:["playSound","changeTab","close","saveSettings","togglePoweredOn","joinFrequency"],setup(e,{emit:i}){function s(){i("close")}function r(m){i("playSound",m)}function a(m){i("changeTab",m)}function n(m,g){i("saveSettings",m,g)}function c(){i("togglePoweredOn")}function o(m,g){i("joinFrequency",m.toString(),g)}return(m,g)=>(v(),b(R,null,[u(_,{text:e.translations.general.goback,location:"bottom"},{activator:f(({props:k})=>[$(l("a",q({class:"radio-home-button",onClick:g[0]||(g[0]=()=>{r("click"),e.currentTab!=="main"?a("main"):s()})},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.translations.general.volumeUp,location:"start"},{activator:f(({props:k})=>[$(l("a",q({onClick:g[1]||(g[1]=()=>{e.settings.volume!==100&&(r("click"),e.settings.volume+=5,n("volume",e.settings.volume))}),class:"radio-volume-up-button"},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.translations.general.volumeDown,location:"end"},{activator:f(({props:k})=>[$(l("a",q({onClick:g[2]||(g[2]=()=>{e.settings.volume!==0&&(r("click"),e.settings.volume-=5,n("volume",e.settings.volume))}),class:"radio-volume-down-button"},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.poweredOn?e.translations.general.turnOff:e.translations.general.turnOn,location:"start"},{activator:f(({props:k})=>[$(l("a",q({class:"radio-power-button",onClick:g[3]||(g[3]=()=>{e.currentFrequency!==0&&o(0,!0),r("audio_off"),c()})},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const he=V(pe,[["__scopeId","data-v-192c1d23"]]),we={class:"info-div status"},xe={class:"status-label"},ke={class:"status-description street-label"},Te={class:"icons"},_e={class:"info-div radio"},Se={class:"top"},$e={class:"top-icons unselectable"},qe={class:"status-label radio-status"},Re={class:"status-description radio-label"},Fe={class:"icons icons2"},Le={class:"info-div settings"},Ve=S({__name:"Info",props:["currentFrequency","customRadioName","currentTab","street","translations"],emits:["changeTab"],setup(e,{emit:i}){const s=e;function r(a){i("changeTab",a)}return(a,n)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="main"?"1":"0","z-index":e.currentTab=="main"?2:1})},[l("div",we,[l("div",q({class:"text"},s),[u(_,{activator:"parent",location:"top"},{default:f(()=>[h(p(e.translations.info.statusTitle),1)]),_:1}),l("h1",xe,p(e.translations.info.status),1),l("h2",ke,p(e.street),1)],16),l("div",Te,[u(T,{class:"unselectable status-icon"},{default:f(()=>[h("mdi-calendar-range")]),_:1})])]),l("div",_e,[l("div",Se,[l("div",$e,[u(T,{class:"top-status-icon unselectable"},{default:f(()=>[h("mdi-network-strength-3 ")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:f(()=>[h("mdi-bluetooth-audio ")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:f(()=>[h("mdi-remote")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:f(()=>[h("mdi-server")]),_:1})]),l("div",q({class:"text"},s),[u(_,{activator:"parent",location:"top"},{default:f(()=>[h(p(e.translations.info.radioStatus),1)]),_:1}),l("h1",qe,p(e.currentFrequency==0?e.translations.info.notInRadio:e.translations.info.inRadio),1),l("h2",Re,p(e.currentFrequency!==0?e.customRadioName!==""?e.customRadioName:N(X)(e.translations.info.frequency,[e.currentFrequency]):""),1)],16)]),l("div",Fe,[u(_,{text:e.translations.info.openRadioMembers,location:"left"},{activator:f(({props:c})=>[u(T,q({onClick:n[0]||(n[0]=o=>r("radio-members")),class:"unselectable status-icon radio-members"},c),{default:f(()=>[h("mdi-account-multiple-outline ")]),_:2},1040)]),_:1},8,["text"])])]),l("div",Le,[$((v(),b("div",{class:"settings-div settings-button",onClick:n[1]||(n[1]=c=>r("settings"))},[u(_,{activator:"parent",location:"top"},{default:f(()=>[h(p(e.translations.info.openSettings),1)]),_:1}),u(T,{class:"settings-icon unselectable"},{default:f(()=>[h("mdi-dots-horizontal ")]),_:1})])),[[j]]),$((v(),b("div",{class:"settings-div join-radio-button",onClick:n[2]||(n[2]=c=>r("join-radio"))},[u(_,{activator:"parent",location:"top"},{default:f(()=>[h(p(e.translations.info.joinRadio),1)]),_:1}),u(T,{class:"settings-icon call-icon unselectable"},{default:f(()=>[h("mdi-phone ")]),_:1})])),[[j]])])],4))}});const De=V(Ve,[["__scopeId","data-v-84e29ecd"]]),Oe={class:"info-div settings2"},je=l("h1",{class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}}," Settings ",-1),Ce=l("hr",{style:{"margin-bottom":"15px"}},null,-1),Ie={slot:"selection","slot-scope":"data"},Ne=S({__name:"Settings",props:["currentTab","settings","translations","disableAnonymous"],emits:["saveSetting"],setup(e,{emit:i}){function s(r,a){i("saveSetting",r,a)}return(r,a)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="settings"?1:0,"z-index":e.currentTab=="settings"?2:1})},[l("div",Oe,[je,Ce,u(H,{label:e.translations.settings.darkMode,modelValue:e.settings.darkTheme,"onUpdate:modelValue":[a[0]||(a[0]=n=>e.settings.darkTheme=n),a[1]||(a[1]=n=>s("theme",e.settings.darkTheme))],color:"white","hide-details":""},null,8,["label","modelValue"]),e.disableAnonymous!==!0?(v(),B(H,{key:0,label:e.translations.settings.anonymous,modelValue:e.settings.anonymous,"onUpdate:modelValue":[a[2]||(a[2]=n=>e.settings.anonymous=n),a[3]||(a[3]=n=>s("anonymous",e.settings.anonymous))],color:"white","hide-details":""},null,8,["label","modelValue"])):F("",!0),u(H,{label:e.translations.settings.allowDrag,modelValue:e.settings.allowDrag,"onUpdate:modelValue":[a[4]||(a[4]=n=>e.settings.allowDrag=n),a[5]||(a[5]=n=>s("allowDrag",e.settings.allowDrag))],color:"white","hide-details":""},null,8,["label","modelValue"]),u(se,{items:N(me),label:e.translations.settings.size,solo:"","hide-details":"","item-title":"text","item-value":"value",modelValue:e.settings.scale,"onUpdate:modelValue":[a[6]||(a[6]=n=>e.settings.scale=n),a[7]||(a[7]=n=>s("size",e.settings.scale))]},{default:f(()=>[l("template",Ie,[h(p(e.translations.settings.size)+": "+p((e.settings.scale*100).toString())+"% ",1)])]),_:1},8,["items","label","modelValue"])])],4))}});const ze=e=>(J("data-v-b7bb0021"),e=e(),Y(),e),Me={class:"info-div"},He={class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}},We=ze(()=>l("hr",null,null,-1)),Pe={class:"radio-members-container"},Ee={key:0,class:"radio-member"},Ae={class:"radio-member-header"},Be=S({__name:"RadioMembers",props:["currentTab","currentFrequency","translations"],setup(e){const i=y([]);return W(()=>{window.addEventListener("message",function(s){switch(s.data.action){case"updateRadioMembers":i.value=s.data.data;break}})}),(s,r)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="radio-members"?1:0,"z-index":e.currentTab=="radio-members"?2:1})},[l("div",Me,[l("h1",He,p(e.translations.radioMembers.title),1),We,l("div",Pe,[i.value.length==0||e.currentFrequency==0?(v(),b("div",Ee,[l("h1",Ae,p(e.currentFrequency==0?e.translations.radioMembers.notInChannel:e.translations.radioMembers.emptyMembersList),1)])):(v(!0),b(R,{key:1},U(i.value,(a,n)=>(v(),b("div",{class:"radio-member",key:n},[a!==null?(v(),b("h1",{key:0,class:"radio-member-header",style:L({color:a.talking==!0?"#fff":"rgb(225,225,225)"})},p(a.name),5)):F("",!0)]))),128))])])],4))}});const Ue=V(Be,[["__scopeId","data-v-b7bb0021"]]),Je={class:"info-div"},Ye={class:"status-label"},Ge=S({__name:"JoinRadio",props:["currentTab","currentFrequency","translations"],emits:["joinFrequency"],setup(e,{emit:i}){const s=y("");function r(){i("joinFrequency",s.value,!1)}return(a,n)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="join-radio"?"1":"0","z-index":e.currentTab=="join-radio"?2:1})},[l("div",Je,[l("h1",Ye,p(e.translations.joinRadio.title),1),u(ie,{class:"frequency-input",label:e.translations.joinRadio.frequency,modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=c=>s.value=c),solo:"",variant:"underlined","hide-details":"",type:"number"},null,8,["label","modelValue"]),u(le,{small:"",color:"var(--button-background)",class:"frequency-button",onClick:r},{default:f(()=>[h(p(s.value.trim().length==0&&e.currentFrequency!==0?e.translations.joinRadio.leave:e.translations.joinRadio.join),1)]),_:1})])],4))}});const Ke=V(Ge,[["__scopeId","data-v-ad69d2e1"]]),Xe=e=>(J("data-v-26625518"),e=e(),Y(),e),Ze=Xe(()=>l("div",{class:"header"},"Radio Members",-1)),Qe={class:"radio-member-list"},et=S({__name:"PlayerList",props:["radioMembers","allowDrag","show","scale"],setup(e){const i=e,s=y([]),r=y(!0),a=y(null);function n(o){i.allowDrag&&a.value!==null&&(o.right<0&&(o.right=0),o.right>window.innerWidth-a.value.offsetWidth&&(o.right=window.innerWidth-a.value.offsetWidth),o.top<0&&(o.top=0),o.top>window.innerHeight-a.value.offsetHeight&&(o.top=window.innerHeight-a.value.offsetHeight),o.target.style.right=`${o.right}px`,o.target.style.top=`${o.top}px`)}function c(o){i.allowDrag&&O("savesettings",{name:"position2",value:{left:o.target.style.right,top:o.target.style.top}})}return W(()=>{window.addEventListener("message",function(o){switch(o.data.action){case"updateRadioMembers":s.value=o.data.data;break;case"open":r.value=o.data.data.ShowPlayerList;break;case"updateSettings":a.value!==null&&(o.data.data.position2.left<0&&(o.data.data.position2.left=0),o.data.data.position2.left>window.innerWidth-a.value.offsetWidth&&(o.data.data.position2.left=window.innerWidth-a.value.offsetWidth),o.data.data.position2.top<0&&(o.data.data.position2.top=0),o.data.data.position2.top>window.innerHeight-a.value.offsetHeight&&(o.data.data.position2.top=window.innerHeight-a.value.offsetHeight),typeof o.data.data.position2.left=="string"?a.value.style.right=o.data.data.position2.left:a.value.style.right=o.data.data.position2.left+"px",typeof o.data.data.position2.top=="string"?a.value.style.top=o.data.data.position2.top:a.value.style.top=o.data.data.position2.top+"px");break}})}),(o,m)=>(v(),b(R,null,[l("div",{class:"radio-members member-drag",ref_key:"playerList",ref:a,style:L({cursor:e.allowDrag?"move":"default",transform:"scale("+Number(e.scale)+")"})},[r.value&&Object.keys(s.value).length>0?(v(),b(R,{key:0},[Ze,l("div",Qe,[(v(!0),b(R,null,U(s.value,(g,k)=>(v(),b(R,{key:k},[g!==null?(v(),b("div",{key:0,class:G(["radio-member",{talking:g.talking}])},[l("span",null,p(g.name),1)],2)):F("",!0)],64))),128))])],64)):F("",!0)],4),u(N(K),{target:[".member-drag"],draggable:!0,useResizeObserver:!1,onDrag:n,onDragEnd:c},null,8,["target"])],64))}});const tt=V(et,[["__scopeId","data-v-26625518"]]),at={key:0,class:"items-container"},nt=S({__name:"App",setup(e){const i=y(!1),s=y(!0),r=y("main"),a=y(""),n=y("12:00"),c=y(0),o=y(""),m=y({}),g=y(""),k=y(!1),C=y(!1),d=y({darkTheme:!0,anonymous:!1,allowDrag:!1,scale:1,position:{left:0,top:0},volume:100}),x=y(null);function Q(t){d.value.allowDrag&&x.value!==null&&(t.left<0&&(t.left=0),t.left>window.innerWidth-x.value.offsetWidth&&(t.left=window.innerWidth-x.value.offsetWidth),t.top<0&&(t.top=0),t.top>window.innerHeight-x.value.offsetHeight&&(t.top=window.innerHeight-x.value.offsetHeight),d.value.position={left:t.left,top:t.top},t.target.style.left=`${t.left}px`,t.target.style.top=`${t.top}px`)}function ee(t){d.value.allowDrag&&x.value!==null&&O("savesettings",{name:"position",value:{left:t.target.style.left,top:t.target.style.top}})}function I(t){r.value=t}function P(){i.value=!1,O("close",{}),document.body.classList.remove("open")}function te(t){i.value=!0,r.value="main",C.value=t,document.body.classList.add("open")}function E(t,w){t=="theme"?(d.value.darkTheme=w,document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(d.value.darkTheme?"lightmode":"darkmode")):t=="volume"?d.value.volume=w:t=="anonymous"?C.value!==!0&&(d.value.anonymous=w):t=="size"?d.value.scale=w:t=="allowDrag"&&(d.value.allowDrag=w),O("savesettings",{name:t,value:w})}function z(t){const w=document.getElementById(t);w&&(w.load(),w.volume=d.value.volume/100*.5,w.play())}async function A(t,w){if(t!==void 0&&t!=="0"&&t!==""){z("click");const D=await O("joinRadio",{frequency:Number(t)});w!==!0&&(D.result==!0?(I("main"),M.fire({title:m.value.notifications.joinedRadioTitle,text:X(m.value.notifications.joinedRadioText,[D.frequencyLabel!==""&&D.frequencyLabel!==void 0?`the ${D.frequencyLabel}`:`${D.frequency} MHz`]),icon:"success",target:".main-container"}),c.value=D.frequency):M.fire({title:m.value.notifications.lockedChannelTitle,text:m.value.notifications.lockedChannelText,icon:"error",target:".main-container"}))}else c.value!==0&&(z("click"),O("leaveRadio",{}),c.value=0,w!==!0&&(M.fire({title:m.value.notifications.leftRadioTitle,text:m.value.notifications.leftRadioText,icon:"success",target:".main-container"}),I("main")))}function ae(){s.value=!s.value}return W(()=>{document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",function(t){switch(t.keyCode){case 27:r.value=="main"?P():r.value="main";break}}),window.addEventListener("message",function(t){switch(t.data.action){case"open":te(t.data.data.DisableAnonymous);break;case"updateData":a.value=t.data.data.streetLabel,m.value=t.data.data.translations,k.value=!0,o.value=t.data.data.voiceScript,n.value=t.data.data.currentTime,c.value=t.data.data.radioFrequency,g.value=t.data.data.radioLabel;break;case"updateSettings":C.value!==!0&&(d.value.anonymous=t.data.data.anonymous),d.value.scale=t.data.data.size,t.data.data.theme==!0||t.data.data.theme=="dark"?d.value.darkTheme=!0:d.value.darkTheme=!1,document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(d.value.darkTheme?"lightmode":"darkmode"),t.data.data.volume&&(d.value.volume=t.data.data.volume),x.value!==null&&(t.data.data.position.left<0&&(t.data.data.position.left=0),t.data.data.position.left>window.innerWidth-x.value.offsetWidth&&(t.data.data.position.left=window.innerWidth-x.value.offsetWidth),t.data.data.position.top<0&&(t.data.data.position.top=0),t.data.data.position.top>window.innerHeight-x.value.offsetHeight&&(t.data.data.position.top=window.innerHeight-x.value.offsetHeight),t.data.data.position.left!==0&&(x.value.style.left=t.data.data.position.left,d.value.position.left=t.data.data.position.left),t.data.data.position.top!==0&&(x.value.style.top=t.data.data.position.top,d.value.position.top=Number(t.data.data.position.top.substring(0,t.data.data.position.top.length-2))));break}})}),(t,w)=>(v(),B(re,{class:G({open:i.value})},{default:f(()=>[$(l("div",{class:"main-container",ref_key:"mainCont",ref:x,style:L({transform:i.value?"scale("+Number(d.value.scale)+")":" translateY(calc(100% + "+d.value.position.top+"px)) scale("+Number(d.value.scale)+")",opacity:i.value?"1":"0",cursor:d.value.allowDrag?"move":"default",background:s.value?"var(--background)":"#101121"})},[k.value?(v(),b(R,{key:0},[u(ye,{poweredOn:s.value,settings:d.value,time:n.value},null,8,["poweredOn","settings","time"]),s.value?(v(),b("div",at,[u(De,{onChangeTab:I,currentTab:r.value,street:a.value,translations:m.value,currentFrequency:c.value,customRadioName:g.value},null,8,["currentTab","street","translations","currentFrequency","customRadioName"]),u(Ke,{onJoinFrequency:A,currentTab:r.value,translations:m.value,currentFrequency:c.value},null,8,["currentTab","translations","currentFrequency"]),u(Ne,{currentTab:r.value,settings:d.value,translations:m.value,disableAnonymous:C.value,onSaveSetting:E},null,8,["currentTab","settings","translations","disableAnonymous"]),u(Ue,{currentFrequency:c.value,translations:m.value,currentTab:r.value},null,8,["currentFrequency","translations","currentTab"])])):F("",!0),u(he,{onPlaySound:z,onChangeTab:I,onSaveSettings:E,onClose:P,onTogglePoweredOn:ae,onJoinFrequency:A,settings:d.value,currentTab:r.value,poweredOn:s.value,currentFrequency:c.value,translations:m.value},null,8,["settings","currentTab","poweredOn","currentFrequency","translations"])],64)):F("",!0)],4),[[ne,k.value]]),u(N(K),{target:[".main-container"],draggable:!0,useResizeObserver:!1,onDrag:Q,onDragEnd:ee},null,8,["target"]),u(tt,{allowDrag:d.value.allowDrag,scale:d.value.scale},null,8,["allowDrag","scale"])]),_:1},8,["class"]))}});const ot=V(nt,[["__scopeId","data-v-ab8ba780"]]);const Z=oe(ot);Z.use(ue({components:de,directives:ce,theme:{defaultTheme:"dark"}}));Z.mount("#app");
