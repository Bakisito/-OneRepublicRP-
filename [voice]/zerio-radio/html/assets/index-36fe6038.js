import{d as q,o as d,c as f,S as o,q as l,U as c,N as y,V as v,W as R,G as _,v as $,F,u as N,X as V,Y as J,Z as Y,_ as G,$ as K,e as g,a0 as X,B as ie,H as le,a1 as re}from"./@vue-ba2db0dd.js";import{s as Z}from"./vue3-moveable-ac0f08c9.js";import{S as H}from"./sweetalert2-f5e3aac5.js";import{V as k,R as D,a as S,b as A,c as ue,d as ce,e as de,f as me,g as fe,h as ve,i as ge}from"./vuetify-228af294.js";import"./moveable-a88031a3.js";import"./framework-utils-6dbb37c6.js";import"./react-simple-compat-7a65e6b5.js";import"./@egjs-8ad550bb.js";import"./@daybrush-ae1f0580.js";import"./react-compat-moveable-2fc7f24a.js";import"./@scena-e1e05698.js";import"./css-to-mat-2227cd45.js";import"./overlap-area-02b6251d.js";import"./gesto-e071d06a.js";import"./react-compat-css-styled-deb89af7.js";import"./css-styled-798509d7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}})();const Q=(e,r)=>e.replace(/{(\d+)}/g,function(i,s){return typeof r[s]<"u"?r[s]:i}),O=async(e,r)=>await(await fetch(`https://zerio-radio/${e}`,{body:JSON.stringify(r||{}),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),be=[{text:"150%",value:1.5},{text:"140%",value:1.4},{text:"130%",value:1.3},{text:"120%",value:1.2},{text:"110%",value:1.1},{text:"100%",value:1},{text:"90%",value:.9},{text:"80%",value:.8},{text:"70%",value:.7},{text:"60%",value:.6},{text:"50%",value:.5}],ye={key:0,class:"top-container"},he={class:"top-time unselectable"},pe={class:"top-volume unselectable"},we=q({__name:"Top",props:["poweredOn","settings","time"],setup(e){return(r,i)=>e.poweredOn?(d(),f("div",ye,[o("div",null,[l(k,{class:"unselectable top-battery"},{default:c(()=>[y("mdi-battery")]),_:1}),o("h1",he,v(e.time),1)]),o("div",null,[l(k,{class:"unselectable top-volume-icon"},{default:c(()=>[y("mdi-volume-high")]),_:1}),o("h1",pe,v(e.settings.volume)+"%",1)])])):R("",!0)}});const L=(e,r)=>{const i=e.__vccOpts||e;for(const[s,a]of r)i[s]=a;return i},xe=L(we,[["__scopeId","data-v-b3a018ed"]]),Te=q({__name:"ExtraButtons",props:["settings","currentTab","poweredOn","currentFrequency","translations"],emits:["playSound","changeTab","close","saveSettings","togglePoweredOn","joinFrequency"],setup(e,{emit:r}){function i(){r("close")}function s(b){r("playSound",b)}function a(b){r("changeTab",b)}function n(b,w){r("saveSettings",b,w)}function h(){r("togglePoweredOn")}function p(b,w){r("joinFrequency",b.toString(),w)}return(b,w)=>(d(),f(F,null,[l(S,{text:e.translations.general.goback,location:"bottom"},{activator:c(({props:m})=>[_(o("a",$({class:"radio-home-button",onClick:w[0]||(w[0]=()=>{s("click"),e.currentTab!=="main"?a("main"):i()})},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"]),l(S,{text:e.translations.general.volumeUp,location:"start"},{activator:c(({props:m})=>[_(o("a",$({onClick:w[1]||(w[1]=()=>{e.settings.volume!==100&&(s("click"),e.settings.volume+=5,n("volume",e.settings.volume))}),class:"radio-volume-up-button"},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"]),l(S,{text:e.translations.general.volumeDown,location:"end"},{activator:c(({props:m})=>[_(o("a",$({onClick:w[2]||(w[2]=()=>{e.settings.volume!==0&&(s("click"),e.settings.volume-=5,n("volume",e.settings.volume))}),class:"radio-volume-down-button"},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"]),l(S,{text:e.poweredOn?e.translations.general.turnOff:e.translations.general.turnOn,location:"start"},{activator:c(({props:m})=>[_(o("a",$({class:"radio-power-button",onClick:w[3]||(w[3]=()=>{e.currentFrequency!==0&&p(0,!0),s("audio_off"),h()})},m),null,16),[[D,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const ke=L(Te,[["__scopeId","data-v-192c1d23"]]),Se={class:"info-div status"},qe={class:"status-label"},_e={class:"status-description street-label"},$e={class:"icons"},Fe={class:"info-div radio"},Re={class:"top"},Ve={class:"top-icons unselectable"},Le={class:"status-label radio-status"},Me={class:"status-description radio-label"},Oe={class:"icons icons2"},De={class:"info-div settings"},je=q({__name:"Info",props:["currentFrequency","customRadioName","currentTab","street","translations"],emits:["changeTab"],setup(e,{emit:r}){const i=e;function s(a){r("changeTab",a)}return(a,n)=>(d(),f("div",{class:"item-container",style:V({opacity:e.currentTab=="main"?"1":"0","z-index":e.currentTab=="main"?2:1})},[o("div",Se,[o("div",$({class:"text"},i),[l(S,{activator:"parent",location:"top"},{default:c(()=>[y(v(e.translations.info.statusTitle),1)]),_:1}),o("h1",qe,v(e.translations.info.status),1),o("h2",_e,v(e.street),1)],16),o("div",$e,[l(k,{class:"unselectable status-icon"},{default:c(()=>[y("mdi-calendar-range")]),_:1})])]),o("div",Fe,[o("div",Re,[o("div",Ve,[l(k,{class:"top-status-icon unselectable"},{default:c(()=>[y("mdi-network-strength-3 ")]),_:1}),l(k,{class:"top-status-icon unselectable"},{default:c(()=>[y("mdi-bluetooth-audio ")]),_:1}),l(k,{class:"top-status-icon unselectable"},{default:c(()=>[y("mdi-remote")]),_:1}),l(k,{class:"top-status-icon unselectable"},{default:c(()=>[y("mdi-server")]),_:1})]),o("div",$({class:"text"},i),[l(S,{activator:"parent",location:"top"},{default:c(()=>[y(v(e.translations.info.radioStatus),1)]),_:1}),o("h1",Le,v(e.currentFrequency==0?e.translations.info.notInRadio:e.translations.info.inRadio),1),o("h2",Me,v(e.currentFrequency!==0?e.customRadioName!==""?e.customRadioName:N(Q)(e.translations.info.frequency,[e.currentFrequency]):""),1)],16)]),o("div",Oe,[l(S,{text:e.translations.info.openRadioMembers,location:"left"},{activator:c(({props:h})=>[l(k,$({onClick:n[0]||(n[0]=p=>s("radio-members")),class:"unselectable status-icon radio-members"},h),{default:c(()=>[y("mdi-account-multiple-outline ")]),_:2},1040)]),_:1},8,["text"])])]),o("div",De,[_((d(),f("div",{class:"settings-div settings-button",onClick:n[1]||(n[1]=h=>s("settings"))},[l(S,{activator:"parent",location:"top"},{default:c(()=>[y(v(e.translations.info.openSettings),1)]),_:1}),l(k,{class:"settings-icon unselectable"},{default:c(()=>[y("mdi-dots-horizontal ")]),_:1})])),[[D]]),_((d(),f("div",{class:"settings-div join-radio-button",onClick:n[2]||(n[2]=h=>s("join-radio"))},[l(S,{activator:"parent",location:"top"},{default:c(()=>[y(v(e.translations.info.joinRadio),1)]),_:1}),l(k,{class:"settings-icon call-icon unselectable"},{default:c(()=>[y("mdi-phone ")]),_:1})])),[[D]])])],4))}});const Ce=L(je,[["__scopeId","data-v-84e29ecd"]]),Ne={class:"info-div settings2"},Ie=o("h1",{class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}}," Settings ",-1),Pe=o("hr",{style:{"margin-bottom":"15px"}},null,-1),ze={slot:"selection","slot-scope":"data"},He=q({__name:"Settings",props:["currentTab","settings","translations","disableAnonymous"],emits:["saveSetting"],setup(e,{emit:r}){function i(s,a){r("saveSetting",s,a)}return(s,a)=>(d(),f("div",{class:"item-container",style:V({opacity:e.currentTab=="settings"?1:0,"z-index":e.currentTab=="settings"?2:1})},[o("div",Ne,[Ie,Pe,l(A,{label:e.translations.settings.darkMode,modelValue:e.settings.darkTheme,"onUpdate:modelValue":[a[0]||(a[0]=n=>e.settings.darkTheme=n),a[1]||(a[1]=n=>i("theme",e.settings.darkTheme))],color:"white","hide-details":""},null,8,["label","modelValue"]),e.disableAnonymous!==!0?(d(),J(A,{key:0,label:e.translations.settings.anonymous,modelValue:e.settings.anonymous,"onUpdate:modelValue":[a[2]||(a[2]=n=>e.settings.anonymous=n),a[3]||(a[3]=n=>i("anonymous",e.settings.anonymous))],color:"white","hide-details":""},null,8,["label","modelValue"])):R("",!0),l(A,{label:e.translations.settings.allowDrag,modelValue:e.settings.allowDrag,"onUpdate:modelValue":a[4]||(a[4]=n=>e.settings.allowDrag=n),color:"white","hide-details":""},null,8,["label","modelValue"]),l(ue,{items:N(be),label:e.translations.settings.size,solo:"","hide-details":"","item-title":"text","item-value":"value",modelValue:e.settings.scale,"onUpdate:modelValue":[a[5]||(a[5]=n=>e.settings.scale=n),a[6]||(a[6]=n=>i("size",e.settings.scale))]},{default:c(()=>[o("template",ze,[y(v(e.translations.settings.size)+": "+v((e.settings.scale*100).toString())+"% ",1)])]),_:1},8,["items","label","modelValue"])])],4))}});const Ae=e=>(G("data-v-a8d2103f"),e=e(),K(),e),We={class:"info-div"},Ee={class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}},Be=Ae(()=>o("hr",null,null,-1)),Ue={class:"radio-members-container"},Je={key:0,class:"radio-member"},Ye={class:"radio-member-header"},Ge=q({__name:"RadioMembers",props:["currentTab","currentFrequency","radioMembers","translations"],setup(e){return(r,i)=>(d(),f("div",{class:"item-container",style:V({opacity:e.currentTab=="radio-members"?1:0,"z-index":e.currentTab=="radio-members"?2:1})},[o("div",We,[o("h1",Ee,v(e.translations.radioMembers.title),1),Be,o("div",Ue,[e.radioMembers.length==0||e.currentFrequency==0?(d(),f("div",Je,[o("h1",Ye,v(e.currentFrequency==0?e.translations.radioMembers.notInChannel:e.translations.radioMembers.emptyMembersList),1)])):(d(!0),f(F,{key:1},Y(e.radioMembers,(s,a)=>(d(),f("div",{class:"radio-member",key:a},[s!==null?(d(),f("h1",{key:0,class:"radio-member-header",style:V({color:s.talking==!0?"#fff":"rgb(225,225,225)"})},v(s.name),5)):R("",!0)]))),128))])])],4))}});const Ke=L(Ge,[["__scopeId","data-v-a8d2103f"]]),Xe={class:"info-div"},Ze={class:"status-label"},Qe=q({__name:"JoinRadio",props:["currentTab","currentFrequency","translations"],emits:["joinFrequency"],setup(e,{emit:r}){const i=g("");function s(){r("joinFrequency",i.value,!1)}return(a,n)=>(d(),f("div",{class:"item-container",style:V({opacity:e.currentTab=="join-radio"?"1":"0","z-index":e.currentTab=="join-radio"?2:1})},[o("div",Xe,[o("h1",Ze,v(e.translations.joinRadio.title),1),l(ce,{class:"frequency-input",label:e.translations.joinRadio.frequency,modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=h=>i.value=h),solo:"",variant:"underlined","hide-details":"",type:"number"},null,8,["label","modelValue"]),l(de,{small:"",color:"var(--button-background)",class:"frequency-button",onClick:s},{default:c(()=>[y(v(i.value.trim().length==0&&e.currentFrequency!==0?e.translations.joinRadio.leave:e.translations.joinRadio.join),1)]),_:1})])],4))}});const et=L(Qe,[["__scopeId","data-v-ad69d2e1"]]),tt=e=>(G("data-v-a10b260b"),e=e(),K(),e),at=tt(()=>o("div",{class:"header"},"Radio Members",-1)),nt={class:"radio-member-list"},ot=q({__name:"PlayerList",props:["radioMembers","position","allowDrag","show","scale"],emits:["updatePosition"],setup(e,{emit:r}){const i=e;function s(n){i.allowDrag&&(n.left<0&&(n.left=0),n.left>window.innerWidth-n.target.offsetWidth&&(n.left=window.innerWidth-n.target.offsetWidth),n.top<0&&(n.top=0),n.top>window.innerHeight-n.target.offsetHeight&&(n.top=window.innerHeight-n.target.offsetHeight),r("updatePosition",{left:n.right,top:n.top}))}function a(){i.allowDrag&&O("savesettings",{name:"position2",value:i.position})}return(n,h)=>(d(),f(F,null,[o("div",{class:"radio-members member-drag",style:V({cursor:e.allowDrag?"move":"default",right:e.position&&e.position.left!=="5vh"?e.position.left+"px":"5vh",top:e.position&&e.position.top!=="2vh"?e.position.top+"px":"2vh",transform:e.show?"scale("+Number(e.scale)+")":" translateY(calc(100% + "+e.position.top+"px)) scale("+Number(e.scale)+")"})},[e.show?(d(),f(F,{key:0},[at,o("div",nt,[(d(!0),f(F,null,Y(e.radioMembers,(p,b)=>(d(),f(F,{key:b},[p!==null?(d(),f("div",{key:0,class:X(["radio-member",{talking:p.talking}])},[o("span",null,v(p.name),1)],2)):R("",!0)],64))),128))])],64)):R("",!0)],4),l(N(Z),{target:[".member-drag"],draggable:!0,useResizeObserver:!1,onDrag:s,onDragEnd:a},null,8,["target"])],64))}});const st=L(ot,[["__scopeId","data-v-a10b260b"]]),it={key:0,class:"items-container"},lt=q({__name:"App",setup(e){const r=g(!1),i=g(!1),s=g(!0),a=g("main"),n=g(""),h=g("12:00"),p=g(0),b=g([]),w=g(""),m=g({}),W=g(""),I=g(!1),j=g(!1),P=g({left:"5vh",top:"2vh"}),u=g({darkTheme:!0,anonymous:!1,allowDrag:!1,scale:1,position:{left:0,top:0},volume:100}),x=g(null);function te(t){P.value=t}function ae(t){u.value.allowDrag&&x.value!==null&&(t.left<0&&(t.left=0),t.left>window.innerWidth-x.value.offsetWidth&&(t.left=window.innerWidth-x.value.offsetWidth),t.top<0&&(t.top=0),t.top>window.innerHeight-x.value.offsetHeight&&(t.top=window.innerHeight-x.value.offsetHeight),u.value.position={left:t.left,top:t.top},t.target.style.left=`${t.left}px`,t.target.style.top=`${t.top}px`)}function ne(t){u.value.allowDrag&&x.value!==null&&O("savesettings",{name:"position",value:{left:t.target.style.left,top:t.target.style.top}})}function C(t){a.value=t}function E(){i.value=!1,O("close",{}),document.body.classList.remove("open")}function oe(t){i.value=!0,a.value="main",j.value=t,document.body.classList.add("open")}function B(t,T){t=="theme"?(u.value.darkTheme=T,document.body.classList.add(u.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(u.value.darkTheme?"lightmode":"darkmode")):t=="volume"?u.value.volume=T:t=="anonymous"?j.value!==!0&&(u.value.anonymous=T):t=="size"&&(u.value.scale=T),O("savesettings",{name:t,value:T})}function z(t){const T=document.getElementById(t);T&&(T.load(),T.volume=u.value.volume/100*.5,T.play())}async function U(t,T){if(t!==void 0&&t!=="0"&&t!==""){z("click");const M=await O("joinRadio",{frequency:Number(t)});T!==!0&&(M.result==!0?(C("main"),H.fire({title:m.value.notifications.joinedRadioTitle,text:Q(m.value.notifications.joinedRadioText,[M.frequencyLabel!==""&&M.frequencyLabel!==void 0?`the ${M.frequencyLabel}`:`${M.frequency} MHz`]),icon:"success",target:".main-container"}),p.value=M.frequency):H.fire({title:m.value.notifications.lockedChannelTitle,text:m.value.notifications.lockedChannelText,icon:"error",target:".main-container"}))}else p.value!==0&&(z("click"),O("leaveRadio",{}),b.value=[],p.value=0,T!==!0&&(H.fire({title:m.value.notifications.leftRadioTitle,text:m.value.notifications.leftRadioText,icon:"success",target:".main-container"}),C("main")))}function se(){s.value=!s.value}return ie(()=>{document.body.classList.add(u.value.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",function(t){switch(t.keyCode){case 27:a.value=="main"?E():a.value="main";break}}),window.addEventListener("message",function(t){switch(t.data.action){case"open":oe(t.data.data.DisableAnonymous),r.value=t.data.data.ShowPlayerList;break;case"updateData":n.value=t.data.data.streetLabel,m.value=t.data.data.translations,I.value=!0,w.value=t.data.data.voiceScript,h.value=t.data.data.currentTime,p.value=t.data.data.radioFrequency,W.value=t.data.data.radioLabel;break;case"updateRadioMembers":b.value=t.data.data;break;case"updateSettings":j.value!==!0&&(u.value.anonymous=t.data.data.anonymous),u.value.scale=t.data.data.size,t.data.data.theme==!0||t.data.data.theme=="dark"?u.value.darkTheme=!0:u.value.darkTheme=!1,document.body.classList.add(u.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(u.value.darkTheme?"lightmode":"darkmode"),t.data.data.volume&&(u.value.volume=t.data.data.volume),t.data.data.position2!==null&&(P.value=t.data.data.position2),x.value!==null&&(t.data.data.position.left<0&&(t.data.data.position.left=0),t.data.data.position.left>window.innerWidth-x.value.offsetWidth&&(t.data.data.position.left=window.innerWidth-x.value.offsetWidth),t.data.data.position.top<0&&(t.data.data.position.top=0),t.data.data.position.top>window.innerHeight-x.value.offsetHeight&&(t.data.data.position.top=window.innerHeight-x.value.offsetHeight),t.data.data.position.left!==0&&(x.value.style.left=t.data.data.position.left,u.value.position.left=t.data.data.position.left),t.data.data.position.top!==0&&(x.value.style.top=t.data.data.position.top,u.value.position.top=Number(t.data.data.position.top.substring(0,t.data.data.position.top.length-2))));break}})}),(t,T)=>(d(),J(me,{class:X({open:i.value})},{default:c(()=>[_(o("div",{class:"main-container",ref_key:"mainCont",ref:x,style:V({transform:i.value?"scale("+Number(u.value.scale)+")":" translateY(calc(100% + "+u.value.position.top+"px)) scale("+Number(u.value.scale)+")",opacity:i.value?"1":"0",cursor:u.value.allowDrag?"move":"default",background:s.value?"var(--background)":"#101121"})},[I.value?(d(),f(F,{key:0},[l(xe,{poweredOn:s.value,settings:u.value,time:h.value},null,8,["poweredOn","settings","time"]),s.value?(d(),f("div",it,[l(Ce,{onChangeTab:C,currentTab:a.value,street:n.value,translations:m.value,currentFrequency:p.value,customRadioName:W.value},null,8,["currentTab","street","translations","currentFrequency","customRadioName"]),l(et,{onJoinFrequency:U,currentTab:a.value,translations:m.value,currentFrequency:p.value},null,8,["currentTab","translations","currentFrequency"]),l(He,{currentTab:a.value,settings:u.value,translations:m.value,disableAnonymous:j.value,onSaveSetting:B},null,8,["currentTab","settings","translations","disableAnonymous"]),l(Ke,{radioMembers:b.value,currentFrequency:p.value,translations:m.value,currentTab:a.value},null,8,["radioMembers","currentFrequency","translations","currentTab"])])):R("",!0),l(ke,{onPlaySound:z,onChangeTab:C,onSaveSettings:B,onClose:E,onTogglePoweredOn:se,onJoinFrequency:U,settings:u.value,currentTab:a.value,poweredOn:s.value,currentFrequency:p.value,translations:m.value},null,8,["settings","currentTab","poweredOn","currentFrequency","translations"])],64)):R("",!0)],4),[[le,I.value]]),l(N(Z),{target:[".main-container"],draggable:!0,useResizeObserver:!1,onDrag:ae,onDragEnd:ne},null,8,["target"]),l(st,{show:r.value&&b.value.length>0,radioMembers:b.value,allowDrag:u.value.allowDrag,position:P.value,scale:u.value.scale,onUpdatePosition:te},null,8,["show","radioMembers","allowDrag","position","scale"])]),_:1},8,["class"]))}});const rt=L(lt,[["__scopeId","data-v-81edf88e"]]);const ee=re(rt);ee.use(fe({components:ve,directives:ge,theme:{defaultTheme:"dark"}}));ee.mount("#app");
