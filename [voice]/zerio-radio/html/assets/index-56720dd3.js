import{d as S,o as v,c as b,S as i,q as u,U as f,N as w,V as h,W as F,G as $,v as q,F as R,u as N,X as L,Y as B,e as y,B as W,Z as U,_ as J,$ as Y,a0 as G,H as ne,a1 as oe}from"./@vue-ba2db0dd.js";import{s as K}from"./vue3-moveable-ac0f08c9.js";import{S as M}from"./sweetalert2-f5e3aac5.js";import{V as T,R as j,a as _,b as H,c as se,d as ie,e as le,f as re,g as ue,h as de,i as ce}from"./vuetify-228af294.js";import"./moveable-a88031a3.js";import"./framework-utils-6dbb37c6.js";import"./react-simple-compat-7a65e6b5.js";import"./@egjs-8ad550bb.js";import"./@daybrush-ae1f0580.js";import"./react-compat-moveable-2fc7f24a.js";import"./@scena-e1e05698.js";import"./css-to-mat-2227cd45.js";import"./overlap-area-02b6251d.js";import"./gesto-e071d06a.js";import"./react-compat-css-styled-deb89af7.js";import"./css-styled-798509d7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();const X=(e,s)=>e.replace(/{(\d+)}/g,function(o,r){return typeof s[r]<"u"?s[r]:o}),O=async(e,s)=>await(await fetch(`https://zerio-radio/${e}`,{body:JSON.stringify(s||{}),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),me=[{text:"150%",value:1.5},{text:"140%",value:1.4},{text:"130%",value:1.3},{text:"120%",value:1.2},{text:"110%",value:1.1},{text:"100%",value:1},{text:"90%",value:.9},{text:"80%",value:.8},{text:"70%",value:.7},{text:"60%",value:.6},{text:"50%",value:.5}],fe={key:0,class:"top-container"},ve={class:"top-time unselectable"},ge={class:"top-volume unselectable"},be=S({__name:"Top",props:["poweredOn","settings","time"],setup(e){return(s,o)=>e.poweredOn?(v(),b("div",fe,[i("div",null,[u(T,{class:"unselectable top-battery"},{default:f(()=>[w("mdi-battery")]),_:1}),i("h1",ve,h(e.time),1)]),i("div",null,[u(T,{class:"unselectable top-volume-icon"},{default:f(()=>[w("mdi-volume-high")]),_:1}),i("h1",ge,h(e.settings.volume)+"%",1)])])):F("",!0)}});const V=(e,s)=>{const o=e.__vccOpts||e;for(const[r,a]of s)o[r]=a;return o},ye=V(be,[["__scopeId","data-v-b3a018ed"]]),he=S({__name:"ExtraButtons",props:["settings","currentTab","poweredOn","currentFrequency","translations"],emits:["playSound","changeTab","close","saveSettings","togglePoweredOn","joinFrequency"],setup(e,{emit:s}){function o(){s("close")}function r(m){s("playSound",m)}function a(m){s("changeTab",m)}function n(m,g){s("saveSettings",m,g)}function c(){s("togglePoweredOn")}function l(m,g){s("joinFrequency",m.toString(),g)}return(m,g)=>(v(),b(R,null,[u(_,{text:e.translations.general.goback,location:"bottom"},{activator:f(({props:k})=>[$(i("a",q({class:"radio-home-button",onClick:g[0]||(g[0]=()=>{r("click"),e.currentTab!=="main"?a("main"):o()})},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.translations.general.volumeUp,location:"start"},{activator:f(({props:k})=>[$(i("a",q({onClick:g[1]||(g[1]=()=>{e.settings.volume!==100&&(r("click"),e.settings.volume+=5,n("volume",e.settings.volume))}),class:"radio-volume-up-button"},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.translations.general.volumeDown,location:"end"},{activator:f(({props:k})=>[$(i("a",q({onClick:g[2]||(g[2]=()=>{e.settings.volume!==0&&(r("click"),e.settings.volume-=5,n("volume",e.settings.volume))}),class:"radio-volume-down-button"},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.poweredOn?e.translations.general.turnOff:e.translations.general.turnOn,location:"start"},{activator:f(({props:k})=>[$(i("a",q({class:"radio-power-button",onClick:g[3]||(g[3]=()=>{e.currentFrequency!==0&&l(0,!0),r("audio_off"),c()})},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const pe=V(he,[["__scopeId","data-v-192c1d23"]]),we={class:"info-div status"},xe={class:"status-label"},ke={class:"status-description street-label"},Te={class:"icons"},_e={class:"info-div radio"},Se={class:"top"},$e={class:"top-icons unselectable"},qe={class:"status-label radio-status"},Re={class:"status-description radio-label"},Fe={class:"icons icons2"},Le={class:"info-div settings"},Ve=S({__name:"Info",props:["currentFrequency","customRadioName","currentTab","street","translations"],emits:["changeTab"],setup(e,{emit:s}){const o=e;function r(a){s("changeTab",a)}return(a,n)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="main"?"1":"0","z-index":e.currentTab=="main"?2:1})},[i("div",we,[i("div",q({class:"text"},o),[u(_,{activator:"parent",location:"top"},{default:f(()=>[w(h(e.translations.info.statusTitle),1)]),_:1}),i("h1",xe,h(e.translations.info.status),1),i("h2",ke,h(e.street),1)],16),i("div",Te,[u(T,{class:"unselectable status-icon"},{default:f(()=>[w("mdi-calendar-range")]),_:1})])]),i("div",_e,[i("div",Se,[i("div",$e,[u(T,{class:"top-status-icon unselectable"},{default:f(()=>[w("mdi-network-strength-3 ")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:f(()=>[w("mdi-bluetooth-audio ")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:f(()=>[w("mdi-remote")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:f(()=>[w("mdi-server")]),_:1})]),i("div",q({class:"text"},o),[u(_,{activator:"parent",location:"top"},{default:f(()=>[w(h(e.translations.info.radioStatus),1)]),_:1}),i("h1",qe,h(e.currentFrequency==0?e.translations.info.notInRadio:e.translations.info.inRadio),1),i("h2",Re,h(e.currentFrequency!==0?e.customRadioName!==""?e.customRadioName:N(X)(e.translations.info.frequency,[e.currentFrequency]):""),1)],16)]),i("div",Fe,[u(_,{text:e.translations.info.openRadioMembers,location:"left"},{activator:f(({props:c})=>[u(T,q({onClick:n[0]||(n[0]=l=>r("radio-members")),class:"unselectable status-icon radio-members"},c),{default:f(()=>[w("mdi-account-multiple-outline ")]),_:2},1040)]),_:1},8,["text"])])]),i("div",Le,[$((v(),b("div",{class:"settings-div settings-button",onClick:n[1]||(n[1]=c=>r("settings"))},[u(_,{activator:"parent",location:"top"},{default:f(()=>[w(h(e.translations.info.openSettings),1)]),_:1}),u(T,{class:"settings-icon unselectable"},{default:f(()=>[w("mdi-dots-horizontal ")]),_:1})])),[[j]]),$((v(),b("div",{class:"settings-div join-radio-button",onClick:n[2]||(n[2]=c=>r("join-radio"))},[u(_,{activator:"parent",location:"top"},{default:f(()=>[w(h(e.translations.info.joinRadio),1)]),_:1}),u(T,{class:"settings-icon call-icon unselectable"},{default:f(()=>[w("mdi-phone ")]),_:1})])),[[j]])])],4))}});const De=V(Ve,[["__scopeId","data-v-84e29ecd"]]),Oe={class:"info-div settings2"},je=i("h1",{class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}}," Settings ",-1),Ce=i("hr",{style:{"margin-bottom":"15px"}},null,-1),Ie={slot:"selection","slot-scope":"data"},Ne=S({__name:"Settings",props:["currentTab","settings","translations","disableAnonymous"],emits:["saveSetting"],setup(e,{emit:s}){function o(r,a){s("saveSetting",r,a)}return(r,a)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="settings"?1:0,"z-index":e.currentTab=="settings"?2:1})},[i("div",Oe,[je,Ce,u(H,{label:e.translations.settings.darkMode,modelValue:e.settings.darkTheme,"onUpdate:modelValue":[a[0]||(a[0]=n=>e.settings.darkTheme=n),a[1]||(a[1]=n=>o("theme",e.settings.darkTheme))],color:"white","hide-details":""},null,8,["label","modelValue"]),e.disableAnonymous!==!0?(v(),B(H,{key:0,label:e.translations.settings.anonymous,modelValue:e.settings.anonymous,"onUpdate:modelValue":[a[2]||(a[2]=n=>e.settings.anonymous=n),a[3]||(a[3]=n=>o("anonymous",e.settings.anonymous))],color:"white","hide-details":""},null,8,["label","modelValue"])):F("",!0),u(H,{label:e.translations.settings.allowDrag,modelValue:e.settings.allowDrag,"onUpdate:modelValue":[a[4]||(a[4]=n=>e.settings.allowDrag=n),a[5]||(a[5]=n=>o("allowDrag",e.settings.allowDrag))],color:"white","hide-details":""},null,8,["label","modelValue"]),u(se,{items:N(me),label:e.translations.settings.size,solo:"","hide-details":"","item-title":"text","item-value":"value",modelValue:e.settings.scale,"onUpdate:modelValue":[a[6]||(a[6]=n=>e.settings.scale=n),a[7]||(a[7]=n=>o("size",e.settings.scale))]},{default:f(()=>[i("template",Ie,[w(h(e.translations.settings.size)+": "+h((e.settings.scale*100).toString())+"% ",1)])]),_:1},8,["items","label","modelValue"])])],4))}});const ze=e=>(J("data-v-b7bb0021"),e=e(),Y(),e),Me={class:"info-div"},He={class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}},We=ze(()=>i("hr",null,null,-1)),Pe={class:"radio-members-container"},Ee={key:0,class:"radio-member"},Ae={class:"radio-member-header"},Be=S({__name:"RadioMembers",props:["currentTab","currentFrequency","translations"],setup(e){const s=y([]);return W(()=>{window.addEventListener("message",function(o){switch(o.data.action){case"updateRadioMembers":s.value=o.data.data;break}})}),(o,r)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="radio-members"?1:0,"z-index":e.currentTab=="radio-members"?2:1})},[i("div",Me,[i("h1",He,h(e.translations.radioMembers.title),1),We,i("div",Pe,[s.value.length==0||e.currentFrequency==0?(v(),b("div",Ee,[i("h1",Ae,h(e.currentFrequency==0?e.translations.radioMembers.notInChannel:e.translations.radioMembers.emptyMembersList),1)])):(v(!0),b(R,{key:1},U(s.value,(a,n)=>(v(),b("div",{class:"radio-member",key:n},[a!==null?(v(),b("h1",{key:0,class:"radio-member-header",style:L({color:a.talking==!0?"#fff":"rgb(225,225,225)"})},h(a.name),5)):F("",!0)]))),128))])])],4))}});const Ue=V(Be,[["__scopeId","data-v-b7bb0021"]]),Je={class:"info-div"},Ye={class:"status-label"},Ge=S({__name:"JoinRadio",props:["currentTab","currentFrequency","translations"],emits:["joinFrequency"],setup(e,{emit:s}){const o=y("");function r(){s("joinFrequency",o.value,!1)}return(a,n)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="join-radio"?"1":"0","z-index":e.currentTab=="join-radio"?2:1})},[i("div",Je,[i("h1",Ye,h(e.translations.joinRadio.title),1),u(ie,{class:"frequency-input",label:e.translations.joinRadio.frequency,modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=c=>o.value=c),solo:"",variant:"underlined","hide-details":"",type:"number"},null,8,["label","modelValue"]),u(le,{small:"",color:"var(--button-background)",class:"frequency-button",onClick:r},{default:f(()=>[w(h(o.value.trim().length==0&&e.currentFrequency!==0?e.translations.joinRadio.leave:e.translations.joinRadio.join),1)]),_:1})])],4))}});const Ke=V(Ge,[["__scopeId","data-v-ad69d2e1"]]),Xe=e=>(J("data-v-48bea394"),e=e(),Y(),e),Ze=Xe(()=>i("div",{class:"header"},"Radio Members",-1)),Qe={class:"radio-member-list"},et=S({__name:"PlayerList",props:["radioMembers","allowDrag","show","scale"],setup(e){const s=e,o=y([]),r=y(!0),a=y(null);function n(l){s.allowDrag&&a.value!==null&&(l.right<0&&(l.right=0),l.right>window.innerWidth-a.value.offsetWidth&&(l.right=window.innerWidth-a.value.offsetWidth),l.top<0&&(l.top=0),l.top>window.innerHeight-a.value.offsetHeight&&(l.top=window.innerHeight-a.value.offsetHeight),l.target.style.right=`${l.right}px`,l.target.style.top=`${l.top}px`)}function c(l){s.allowDrag&&O("savesettings",{name:"position2",value:{left:l.target.style.right,top:l.target.style.top}})}return W(()=>{window.addEventListener("message",function(l){switch(l.data.action){case"updateRadioMembers":o.value=l.data.data;break;case"open":r.value=l.data.data.ShowPlayerList;break;case"updateSettings":a.value!==null&&(l.data.data.position2.left<0&&(l.data.data.position2.left=0),l.data.data.position2.left>window.innerWidth-a.value.offsetWidth&&(l.data.data.position2.left=window.innerWidth-a.value.offsetWidth),l.data.data.position2.top<0&&(l.data.data.position2.top=0),l.data.data.position2.top>window.innerHeight-a.value.offsetHeight&&(l.data.data.position2.top=window.innerHeight-a.value.offsetHeight),console.log(l.data.data.position2),a.value.style.right=l.data.data.position2.left,a.value.style.top=l.data.data.position2.top);break}})}),(l,m)=>(v(),b(R,null,[i("div",{class:"radio-members member-drag",ref_key:"playerList",ref:a,style:L({cursor:e.allowDrag?"move":"default",transform:"scale("+Number(e.scale)+")"})},[r.value&&Object.keys(o.value).length>0?(v(),b(R,{key:0},[Ze,i("div",Qe,[(v(!0),b(R,null,U(o.value,(g,k)=>(v(),b(R,{key:k},[g!==null?(v(),b("div",{key:0,class:G(["radio-member",{talking:g.talking}])},[i("span",null,h(g.name),1)],2)):F("",!0)],64))),128))])],64)):F("",!0)],4),u(N(K),{target:[".member-drag"],draggable:!0,useResizeObserver:!1,onDrag:n,onDragEnd:c},null,8,["target"])],64))}});const tt=V(et,[["__scopeId","data-v-48bea394"]]),at={key:0,class:"items-container"},nt=S({__name:"App",setup(e){const s=y(!1),o=y(!0),r=y("main"),a=y(""),n=y("12:00"),c=y(0),l=y(""),m=y({}),g=y(""),k=y(!1),C=y(!1),d=y({darkTheme:!0,anonymous:!1,allowDrag:!1,scale:1,position:{left:0,top:0},volume:100}),x=y(null);function Q(t){d.value.allowDrag&&x.value!==null&&(t.left<0&&(t.left=0),t.left>window.innerWidth-x.value.offsetWidth&&(t.left=window.innerWidth-x.value.offsetWidth),t.top<0&&(t.top=0),t.top>window.innerHeight-x.value.offsetHeight&&(t.top=window.innerHeight-x.value.offsetHeight),d.value.position={left:t.left,top:t.top},t.target.style.left=`${t.left}px`,t.target.style.top=`${t.top}px`)}function ee(t){d.value.allowDrag&&x.value!==null&&O("savesettings",{name:"position",value:{left:t.target.style.left,top:t.target.style.top}})}function I(t){r.value=t}function P(){s.value=!1,O("close",{}),document.body.classList.remove("open")}function te(t){s.value=!0,r.value="main",C.value=t,document.body.classList.add("open")}function E(t,p){console.log(t,p),t=="theme"?(d.value.darkTheme=p,document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(d.value.darkTheme?"lightmode":"darkmode")):t=="volume"?d.value.volume=p:t=="anonymous"?C.value!==!0&&(d.value.anonymous=p):t=="size"?d.value.scale=p:t=="allowDrag"&&(d.value.allowDrag=p),O("savesettings",{name:t,value:p})}function z(t){const p=document.getElementById(t);p&&(p.load(),p.volume=d.value.volume/100*.5,p.play())}async function A(t,p){if(t!==void 0&&t!=="0"&&t!==""){z("click");const D=await O("joinRadio",{frequency:Number(t)});p!==!0&&(D.result==!0?(I("main"),M.fire({title:m.value.notifications.joinedRadioTitle,text:X(m.value.notifications.joinedRadioText,[D.frequencyLabel!==""&&D.frequencyLabel!==void 0?`the ${D.frequencyLabel}`:`${D.frequency} MHz`]),icon:"success",target:".main-container"}),c.value=D.frequency):M.fire({title:m.value.notifications.lockedChannelTitle,text:m.value.notifications.lockedChannelText,icon:"error",target:".main-container"}))}else c.value!==0&&(z("click"),O("leaveRadio",{}),c.value=0,p!==!0&&(M.fire({title:m.value.notifications.leftRadioTitle,text:m.value.notifications.leftRadioText,icon:"success",target:".main-container"}),I("main")))}function ae(){o.value=!o.value}return W(()=>{document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",function(t){switch(t.keyCode){case 27:r.value=="main"?P():r.value="main";break}}),window.addEventListener("message",function(t){switch(t.data.action){case"open":te(t.data.data.DisableAnonymous);break;case"updateData":a.value=t.data.data.streetLabel,m.value=t.data.data.translations,k.value=!0,l.value=t.data.data.voiceScript,n.value=t.data.data.currentTime,c.value=t.data.data.radioFrequency,g.value=t.data.data.radioLabel;break;case"updateSettings":C.value!==!0&&(d.value.anonymous=t.data.data.anonymous),d.value.scale=t.data.data.size,t.data.data.theme==!0||t.data.data.theme=="dark"?d.value.darkTheme=!0:d.value.darkTheme=!1,document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(d.value.darkTheme?"lightmode":"darkmode"),t.data.data.volume&&(d.value.volume=t.data.data.volume),x.value!==null&&(t.data.data.position.left<0&&(t.data.data.position.left=0),t.data.data.position.left>window.innerWidth-x.value.offsetWidth&&(t.data.data.position.left=window.innerWidth-x.value.offsetWidth),t.data.data.position.top<0&&(t.data.data.position.top=0),t.data.data.position.top>window.innerHeight-x.value.offsetHeight&&(t.data.data.position.top=window.innerHeight-x.value.offsetHeight),t.data.data.position.left!==0&&(x.value.style.left=t.data.data.position.left,d.value.position.left=t.data.data.position.left),t.data.data.position.top!==0&&(x.value.style.top=t.data.data.position.top,d.value.position.top=Number(t.data.data.position.top.substring(0,t.data.data.position.top.length-2))));break}})}),(t,p)=>(v(),B(re,{class:G({open:s.value})},{default:f(()=>[$(i("div",{class:"main-container",ref_key:"mainCont",ref:x,style:L({transform:s.value?"scale("+Number(d.value.scale)+")":" translateY(calc(100% + "+d.value.position.top+"px)) scale("+Number(d.value.scale)+")",opacity:s.value?"1":"0",cursor:d.value.allowDrag?"move":"default",background:o.value?"var(--background)":"#101121"})},[k.value?(v(),b(R,{key:0},[u(ye,{poweredOn:o.value,settings:d.value,time:n.value},null,8,["poweredOn","settings","time"]),o.value?(v(),b("div",at,[u(De,{onChangeTab:I,currentTab:r.value,street:a.value,translations:m.value,currentFrequency:c.value,customRadioName:g.value},null,8,["currentTab","street","translations","currentFrequency","customRadioName"]),u(Ke,{onJoinFrequency:A,currentTab:r.value,translations:m.value,currentFrequency:c.value},null,8,["currentTab","translations","currentFrequency"]),u(Ne,{currentTab:r.value,settings:d.value,translations:m.value,disableAnonymous:C.value,onSaveSetting:E},null,8,["currentTab","settings","translations","disableAnonymous"]),u(Ue,{currentFrequency:c.value,translations:m.value,currentTab:r.value},null,8,["currentFrequency","translations","currentTab"])])):F("",!0),u(pe,{onPlaySound:z,onChangeTab:I,onSaveSettings:E,onClose:P,onTogglePoweredOn:ae,onJoinFrequency:A,settings:d.value,currentTab:r.value,poweredOn:o.value,currentFrequency:c.value,translations:m.value},null,8,["settings","currentTab","poweredOn","currentFrequency","translations"])],64)):F("",!0)],4),[[ne,k.value]]),u(N(K),{target:[".main-container"],draggable:!0,useResizeObserver:!1,onDrag:Q,onDragEnd:ee},null,8,["target"]),u(tt,{allowDrag:d.value.allowDrag,scale:d.value.scale},null,8,["allowDrag","scale"])]),_:1},8,["class"]))}});const ot=V(nt,[["__scopeId","data-v-2adb6d45"]]);const Z=oe(ot);Z.use(ue({components:de,directives:ce,theme:{defaultTheme:"dark"}}));Z.mount("#app");
