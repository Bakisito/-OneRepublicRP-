import{l as A,V as m,W as i,A as u,X as S,Y as d,u as e,I as L,Z as w,_ as x,$ as g,R as q,B as z,a0 as ve,a1 as _e,C as j,a2 as Y,F as E,a3 as O,a4 as F,a5 as G,r as P,w as ie,U as ce,j as re,G as se,a6 as he,a7 as pe,L as ye,a8 as le,D as be,a9 as we}from"./@vue-b8fa97ce.js";import{u as Se,c as ke,a as Me}from"./vue-router-4bf13085.js";import{d as W,s as oe,c as Te}from"./pinia-260715d0.js";import{V as N,a as y,R as V,b as K,c as $e,d as ue,e as Ce,f as Ae,g as xe,h as Le,i as ee,j as de,C as Re,k as Ne,l as qe,m as Fe,n as Ve,o as Ie,p as Ee}from"./vuetify-82b1c6b8.js";/* empty css             */import{W as De}from"./webfontloader-5f99b16f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const Pe=["1","2","3","4","5","6","7","8","9",".","0","delete"],ae={delete:"mdi-backspace"},Be={main:"",scanner:"scanner"},ge={"/":{min:-3,default:0,max:4},"/joinRadio":{min:-3,default:1,max:13},"/messages":{min:-3,default:0,max:()=>D().contacts.length},"/channels":{min:-3,default:0,max:()=>{const n=H();return 5+(n.currentTab=="favorites"?n.favorites:n.recent).length},getScroll:n=>0+(n>6?(n-6)*48:0),scrollSelection:"#channel-list"},"/radioMembers":{min:-3,default:0,max:0},"/messages/:id":{min:-3,default:0,max:2},"/settings":{min:-3,default:0,max:()=>_().showCallSigns==!0?7:6,getScroll:n=>n<=1?0:n*50,scrollSelection:"#settings-scroll"}},He={[-4]:()=>{_().panicButton()},[-3]:()=>{_().togglePoweredOn()},[-2]:()=>{const n=_(),t=M();t.settings.volume!==100&&(n.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)+5))},[-1]:()=>{const n=_(),t=M();t.settings.volume!==0&&(n.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)-5))}},Z={"/":{0:()=>{_().changeTab("radioMembers")},1:()=>{_().changeTab("channels")},2:()=>{_().changeTab("joinRadio")},3:()=>{_().changeTab("settings")},4:()=>{_().changeTab("messages")}},"/radioMembers":{0:()=>{_().changeTab("")},invalid:()=>{const n=_(),t=D();if(n.currentAction<=-4&&n.currentAction>=n.radioMembers.length*-1-4){const s=n.radioMembers[n.currentAction*-1-5];s&&t.addContact(s)}}},"/messages":{0:()=>{_().changeTab("")},invalid:()=>{const n=_(),t=D();if(n.currentAction>0&&n.currentAction<=t.contacts.length){const s=t.contacts[n.currentAction-1];s&&t.clickContact(s)}else if(n.currentAction<=-4&&n.currentAction>=t.contacts.length*-1-4){const s=t.contacts[n.currentAction*-1-5];s&&t.removeContact(s)}}},"/messages/:id":{0:()=>{_().changeTab("messages")},1:()=>{k("toggleNuiFocus",{new:!0})},2:()=>{D().sendMessage()}},"/settings":{0:()=>{_().changeTab("")},1:()=>{const n=M();n.settings.anonymous=!n.settings.anonymous,n.saveSettings("anonymous",n.settings.anonymous)},2:()=>{const n=M();n.settings.darkTheme=!n.settings.darkTheme,n.saveSettings("theme",n.settings.darkTheme)},3:()=>{const n=M();n.settings.memberList=!n.settings.memberList,n.saveSettings("memberList",n.settings.memberList)},5:()=>{const n=M();n.settings.allowDrag=!n.settings.allowDrag,n.saveSettings("allowDrag",n.settings.allowDrag)},6:()=>{const n=M();n.settings.useMouse=!n.settings.useMouse,n.saveSettings("useMouse",n.settings.useMouse)},7:()=>{_().showCallSigns==!0&&k("toggleNuiFocus",{new:!0})}},"/channels":{0:()=>{_().changeTab("")},1:()=>{H().openNewFavoritePrompt()},2:()=>{const n=H();n.showSearch=!n.showSearch,k("toggleNuiFocus",{new:!0})},3:()=>{H().currentTab="favorites"},4:()=>{H().currentTab="recents"},invalid:()=>{const n=_(),t=H();if(n.currentAction>=5){const s=H(),a=s.currentTab=="favorites"?s.favorites:s.recent;n.joinFrequency(a[n.currentAction-5].frequency,!1,!0)}else n.currentAction<=-5&&t.removeFavorite(t.favorites[(n.currentAction+5)*-1].frequency)}},"/joinRadio":{0:()=>{_().changeTab("")},1:()=>{Q().joinFrequency()},invalid:()=>{const n=_(),t=Q();if(n.currentAction>=2){let s=null;if(n.currentAction<11?s=(n.currentAction-1).toString():n.currentAction==11?s=".":n.currentAction==12?s="0":n.currentAction==13&&t.frequency.length>0&&(t.frequency=t.frequency.slice(0,-1)),s!==null){const a=t.frequency+s;isNaN(Number(a))==!1&&t.frequency.length<10&&(t.frequency=a)}}}}};for(const n in Z)Z[n]={...Z[n],...He};const ne=(n,t)=>n.replace(/{(\d+)}/g,function(s,a){return typeof t[a]<"u"?t[a]:s}),Oe=()=>{try{return GetParentResourceName()}catch{return"zerio-radio"}},k=async(n,t={})=>await(await fetch(`https://${Oe()}/${n}`,{body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),_=W("main",{state:()=>({show:!1,poweredOn:!0,showCallSigns:!0,disableAnonymous:!1,debug:!0,currentAction:0,allowActionUpdate:!0,currentFrequency:0,translations:{},hideTop:!1,enablePanicButton:!0,street:"",status:"Unknown",voiceScript:"",identifier:"",customRadioName:"",radioMembers:[],latestMessage:void 0}),actions:{currentTime:()=>{const n=new Date,t=n.getHours(),s=n.getMinutes();return`${t>=10?t:"0"+t}:${s>=10?s:"0"+s}`},close:(n=!1)=>{const t=_();n==!0?k("removeFocus",{}):(t.show=!1,k("close",{}),document.body.classList.remove("open"))},open:n=>{const t=_();t.show=!0,t.hideTop=!1,_().changeTab(n||""),document.body.classList.add("open")},playSound:n=>{if(_().poweredOn==!0){const t=document.getElementById(n);t&&(t.load(),t.volume=Number(M().settings.volume)/100*.5,t.play())}},togglePoweredOn:()=>{const n=_();n.poweredOn=!n.poweredOn,n.playSound("audio_off"),n.currentFrequency!==0&&(n.joinFrequency(0,!0),n.radioMembers=[])},panicButton:()=>{const n=I(),t=_();k("panicButton").then(s=>{s.status?n.addNotification(t.getTranslation(["notifications","panicButtonCooldown"]),3e3):n.addNotification(t.getTranslation(["notifications","usedPanicButton"]),3e3)})},joinFrequency:async(n,t,s)=>{const a=_();if(n!==void 0&&n!=="0"&&n!==""){a.playSound("click");const o=await k("joinRadio",{frequency:Number(n)});t!==!0&&(o.result==!0?(s!==!0&&a.changeTab(""),I().addNotification(ne(a.getTranslation(["notifications","joinedRadioText"]),[o.frequencyLabel!==""&&o.frequencyLabel!==void 0?`the ${o.frequencyLabel}`:`${o.frequency} MHz`]),3e3),a.currentFrequency=o.frequency):I().addNotification(a.getTranslation(["notifications","lockedChannelText"]),3e3))}else a.playSound("click"),k("leaveRadio",{}),a.currentFrequency=0,t!==!0&&(I().addNotification(a.getTranslation(["notifications","leftRadioText"]),3e3),s!==!0&&a.changeTab(""))},changeTab:n=>{const t=_();if(t.hideTop=n=="channels"||n=="settings"||n=="joinRadio"||n=="radioMembers"||n.includes("messages"),T.currentRoute.value.matched[0].path=="/messages/:id"){const a=D();a.message="",a.currentContact=void 0,a.currentMessages=[]}T.push("/"+n);const s=ge["/"+n];t.currentAction=s&&typeof s.default=="number"?s.default:0,n==""&&k("fetchNewestReceivedMessage",{}),M().settings.useMouse==!1&&k("updateJoinRadioChecks",{new:n=="joinRadio"})},getTranslation:n=>{const t=_();let s;for(let a=0;a<n.length;a++)if(typeof s!="string")if(s==null&&t.translations[n[a]])s=t.translations[n[a]];else if(s!==void 0&&s[n[a]])s=s[n[a]];else return"Invalid translation";return s==null?"Invalid Translation":typeof s=="string"?s:"Translation is not a string"}}}),M=W("settings",{state:()=>({settings:{darkTheme:!0,anonymous:!1,allowDrag:!1,memberList:!1,useMouse:!0,scale:20,callsign:"",positionX:"100px",positionY:"128px",position2X:"32px",position2Y:"32px",volume:100}}),actions:{saveSettings:(n,t)=>{const s=M(),a=_();s.settings[n]=t,n=="theme"?(document.body.classList.add(s.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(s.settings.darkTheme?"lightmode":"darkmode")):n=="useMouse"&&a.close(),typeof t=="boolean"&&(t=t==!0?1:0),k("savesettings",{name:n,value:t})}}}),I=W("modal",{state:()=>({data:void 0,notifications:[],id:0}),actions:{addNotification:(n,t=3e3)=>{const s=I(),a=s.id;s.notifications.push({text:n,timer:t,uuid:a,date:Date.now()}),s.id++,setTimeout(()=>{const o=s.notifications.findIndex(r=>r.uuid==a);o!==-1&&s.notifications.splice(o,1)},t)},removeNotification:n=>{const t=I(),s=t.notifications.findIndex(a=>a.uuid==n);s!==void 0&&typeof s=="number"&&s!==-1&&t.notifications.splice(s,1)}}}),Q=W("joinRadio",{state:()=>({frequency:""}),actions:{joinFrequency:()=>{const n=Q(),t=_();n.frequency.charAt(n.frequency.length-1)=="."&&(n.frequency=n.frequency.slice(0,-1)),t.joinFrequency(n.frequency,!1),n.frequency=""}}}),H=W("channels",{state:()=>({favorites:[{label:"Favorit kanal",frequency:68},{label:"En till Favorit kanal",frequency:69}],currentTab:"favorites",recent:[],showSearch:!1}),actions:{openNewFavoritePrompt:()=>{const n=_();I().data={header:n.getTranslation(["channels","newPromptHeader"]),inputs:[{placeholder:n.getTranslation(["channels","frequency"]),type:"number",name:"frequency"}],buttons:[{label:n.getTranslation(["general","cancel"]),action:"close"},{label:n.getTranslation(["general","continue"]),action:t=>{t.frequency.trim().length>0&&H().addFavorite(Number(t.frequency))}}]},M().settings.useMouse==!1&&k("toggleNuiFocus",{new:!0})},removeFavorite:n=>{k("removeFavorite",{frequency:n})},addFavorite:n=>{k("addFavorite",{frequency:n})}}}),D=W("messages",{state:()=>({contacts:[],currentContact:void 0,message:"",currentMessages:[]}),actions:{sendMessage(){const n=D();n.message.trim().length>=1&&n.currentContact!==void 0&&k("sendMessage",{message:n.message,contact:n.currentContact}).then(()=>{n.message=""})},addContact(n){const t=D(),s=_(),a=I();t.isPlayerContact(n.identifier)==!1?k("addContact",{data:n}).then(o=>{o.status=="ok"&&a.addNotification(s.getTranslation(["messages","addedContact"]))}):a.addNotification(s.getTranslation(["messages","alreadyContact"]))},isPlayerContact(n){return D().contacts.findIndex(a=>a.identifier==n)!==-1},removeContact(n){const t=D();k("removeContact",{data:n}).then(s=>{s.status=="ok"&&(t.contacts=t.contacts.filter(a=>a.contact!==n.contact),I().addNotification(_().getTranslation(["messages","removedContact"])))})},clickContact(n){_().changeTab("messages/"+n.contact)}}}),me=W("scanner",{state:()=>({channels:[]})}),je={class:"item-container"},Ue={class:"info-div status"},Ye={class:"text"},Xe={class:"status-label"},We={class:"status-description street-label"},ze={class:"info-div radio"},Je={class:"top"},Ke={class:"top-icons unselectable"},Ge={class:"text"},Ze={class:"status-label radio-status"},Qe={class:"status-description radio-label"},et={class:"info-div settings buttons"},tt={class:"info-div contacts"},st={key:0,class:"text"},nt={class:"status-label"},ot={class:"status-description street-label"},at={class:"info-div location"},it={class:"text"},ct={class:"status-description street-label"},rt=A({__name:"Main",setup(n){const t=_(),s=M();return(a,o)=>(g(),m("div",je,[i("div",Ue,[i("div",Ye,[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","statusTitle"])),1)]),_:1}),i("h1",Xe,d(e(t).getTranslation(["info","status"])),1),i("h2",We,d(e(t).status),1)]),u(y,{class:"unselectable status-icon",icon:"mdi-calendar-range"})]),i("div",ze,[i("div",Je,[i("div",Ke,[u(y,{class:"top-status-icon unselectable",icon:"mdi-network-strength-3"}),u(y,{class:"top-status-icon unselectable",icon:"mdi-bluetooth-audio"}),u(y,{class:"top-status-icon unselectable",icon:"mdi-remote"}),u(y,{class:"top-status-icon unselectable",icon:"mdi-server"})]),i("div",Ge,[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","radioStatus"])),1)]),_:1}),i("h1",Ze,d(e(t).currentFrequency==0||e(t).currentFrequency==null?e(t).getTranslation(["info","notInRadio"]):e(t).getTranslation(["info","inRadio"])),1),i("h2",Qe,d(e(t).currentFrequency!==0&&e(t).currentFrequency!==void 0?e(t).customRadioName!==""?e(t).customRadioName:e(ne)(e(t).getTranslation(["info","frequency"]),[e(t).currentFrequency]):""),1)])]),u(N,{text:e(t).getTranslation(["info","openRadioMembers"]),location:"left"},{activator:S(({props:r})=>[u(y,z({onClick:o[0]||(o[0]=f=>e(t).changeTab("radioMembers")),class:"unselectable status-icon"},r,{class:{hover:e(t).currentAction==0&&!e(s).settings.useMouse},icon:"mdi-account-multiple-outline"}),null,16,["class"])]),_:1},8,["text"])]),i("div",et,[L((g(),m("div",{class:w(["button",{hover:e(t).currentAction==1&&!e(s).settings.useMouse}]),onClick:o[1]||(o[1]=r=>e(t).changeTab("channels"))},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","openChannels"])),1)]),_:1}),u(y,{class:"unselectable",icon:"mdi-format-list-bulleted"}),i("h1",null,d(e(t).getTranslation(["general","channels"])),1)],2)),[[V]]),L((g(),m("div",{class:w(["button",{hover:e(t).currentAction==2&&!e(s).settings.useMouse}]),onClick:o[2]||(o[2]=r=>e(t).changeTab("joinRadio"))},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","joinRadio"])),1)]),_:1}),u(y,{class:"unselectable",icon:"mdi-phone"}),i("h1",null,d(e(t).getTranslation(["general","connect"])),1)],2)),[[V]]),L((g(),m("div",{class:w(["button",{hover:e(t).currentAction==3&&!e(s).settings.useMouse}]),onClick:o[3]||(o[3]=r=>e(t).changeTab("settings"))},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","openSettings"])),1)]),_:1}),u(y,{class:"unselectable",icon:"mdi-dots-horizontal"}),i("h1",null,d(e(t).getTranslation(["general","settings"])),1)],2)),[[V]])]),i("div",tt,[e(t).latestMessage!==void 0?(g(),m("div",st,[i("h1",nt,d(e(t).latestMessage.author),1),i("h2",ot,d(e(t).latestMessage.message),1)])):x("",!0),L((g(),m("div",{class:w(["button",{hover:e(t).currentAction==4&&!e(s).settings.useMouse}]),onClick:o[4]||(o[4]=r=>e(t).changeTab("messages"))},[u(y,{class:"unselectable",icon:"mdi-message-bulleted"}),u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["general","viewMessages"])),1)]),_:1})],2)),[[V]])]),i("div",at,[u(y,{class:"unselectable status-icon",icon:"mdi-map-marker"}),i("div",it,[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","locationTitle"])),1)]),_:1}),i("h2",ct,d(e(t).street),1)])])]))}});const R=(n,t)=>{const s=n.__vccOpts||n;for(const[a,o]of t)s[a]=o;return s},lt=R(rt,[["__scopeId","data-v-25b53cb1"]]),fe=n=>(ve("data-v-90be6dca"),n=n(),_e(),n),ut={class:"main"},dt=fe(()=>i("p",null,"Seems like something went wrong, this route could not be found.",-1)),gt=fe(()=>i("p",null," Please open an ticket and send a screenshot of this to get further info. ",-1)),mt=A({__name:"NotFound",setup(n){const t=_();return(s,a)=>(g(),m("div",ut,[dt,gt,i("p",null,[q(" Your route is: "),i("b",null,d(s.$route.fullPath),1)]),i("p",{class:"goback",onClick:a[0]||(a[0]=o=>e(t).changeTab(""))},"Click here to go back")]))}});const ft=R(mt,[["__scopeId","data-v-90be6dca"]]),vt={class:"main"},_t={class:"top"},ht={class:"info"},pt={class:"frequency"},yt={class:"value"},bt={class:"buttons"},wt=["onClick","id"],St={class:"inner"},kt=A({__name:"JoinRadio",setup(n){const t=_(),s=Q(),a=M();function o(v){let l=!1;switch((v.key.toLowerCase()=="comma"||v.key.toLowerCase()=="period")&&(v.key="."),v.key.toLowerCase()){case"backspace":case"delete":s.frequency.length>0?(s.frequency=s.frequency.slice(0,-1),l=!0):k("closeFromNui",{});break;case"enter":s.joinFrequency();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":const c=s.frequency+v.key.toString();isNaN(Number(c))==!1&&s.frequency.length<10&&(s.frequency=c,l=!0);break}if(l){const c=document.getElementById(`button-${v.key.toLowerCase()=="backspace"?"delete":v.key}`);if(c){let b=function(p){const $=p.target;c!==null&&$.parentNode==c&&(setTimeout(()=>{$!==null&&$.remove()},750),c.removeEventListener("DOMNodeInserted",b))},h=c.getBoundingClientRect();c.addEventListener("DOMNodeInserted",b,!1),c.dispatchEvent(new MouseEvent("mousedown",{clientX:h.left+h.width/2,clientY:h.top+h.height/2})),setTimeout(()=>{c!==null&&c.dispatchEvent(new Event("mouseup"))},300)}}}function r(v){switch(v.data.action){case"joinRadioKeyDown":o({key:v.data.key});break}}j(()=>{window.addEventListener("message",r),window.addEventListener("keydown",o)}),Y(()=>{window.removeEventListener("message",r),window.removeEventListener("keydown",o)});function f(v){switch(v){case"delete":s.frequency.length>0&&(s.frequency=s.frequency.slice(0,-1));break;default:const l=s.frequency+v;isNaN(Number(l))==!1&&s.frequency.length<10&&(s.frequency=l);break}}return(v,l)=>(g(),m("div",vt,[i("div",_t,[u(y,{icon:"mdi-close",onClick:l[0]||(l[0]=c=>e(t).changeTab("")),class:w({hover:e(t).currentAction==0&&!e(a).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(t).getTranslation(["joinRadio","title"])),1)]),i("div",ht,[i("div",pt,[i("div",yt,d(e(s).frequency?e(s).frequency:e(t).getTranslation(["joinRadio","frequency"])),1),u(y,{icon:"mdi-arrow-right-thin",onClick:e(s).joinFrequency,class:w({hover:e(t).currentAction==1&&!e(a).settings.useMouse})},null,8,["onClick","class"])]),i("div",bt,[(g(!0),m(E,null,O(e(Pe),(c,b)=>L((g(),m("div",{class:w(["button",{hovering:e(t).currentAction==2+b&&!e(a).settings.useMouse}]),key:b,onClick:h=>f(c),id:"button-"+c},[i("div",St,[e(ae)[c]==null?(g(),m(E,{key:0},[q(d(c),1)],64)):(g(),F(y,{key:1,icon:e(ae)[c]},null,8,["icon"]))])],10,wt)),[[V]])),128))])])]))}});const Mt=R(kt,[["__scopeId","data-v-51b777a9"]]),Tt={class:"main"},$t={class:"top"},Ct={key:0,class:"empty-text"},At={key:1,class:"radio-members-container"},xt=["onClick"],Lt=A({__name:"RadioMembers",setup(n){const t=_(),s=M(),a=D();return j(()=>{k("fetchContacts",{}).then(o=>{a.contacts=o.contacts})}),(o,r)=>(g(),m("div",Tt,[i("div",$t,[u(y,{icon:"mdi-close",onClick:r[0]||(r[0]=f=>e(t).changeTab("")),class:w({hover:e(t).currentAction==0&&!e(s).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(t).getTranslation(["radioMembers","title"])),1)]),e(t).radioMembers.length==0||e(t).currentFrequency==0?(g(),m("div",Ct,d(e(t).currentFrequency==0?e(t).getTranslation(["radioMembers","notInChannel"]):e(t).getTranslation(["radioMembers","emptyMembersList"])),1)):(g(),m("div",At,[(g(!0),m(E,null,O(e(t).radioMembers,(f,v)=>(g(),m("div",{class:w(["radio-member",{hover:e(t).currentAction==v+1&&!e(s).settings.useMouse}]),key:v,style:G({color:f.talking==!0?"#fff":"rgb(225,225,225)"})},[i("p",null,d(f.name)+d(e(t).showCallSigns==!0&&f.callsign!==void 0&&f.callsign.trim().length>0?` (${f.callsign})`:""),1),i("button",{onClick:l=>e(a).addContact(f),class:w({hover:e(t).currentAction==(v+1)*-1-4&&!e(s).settings.useMouse})},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["radioMembers","addContact"])),1)]),_:1}),u(y,{icon:e(a).isPlayerContact(f.identifier)?"mdi-star":"mdi-star-outline"},null,8,["icon"])],10,xt)],6))),128))]))]))}});const Rt=R(Lt,[["__scopeId","data-v-09fafdc0"]]),Nt={class:"main"},qt={class:"top"},Ft={class:"items",id:"settings-scroll"},Vt={class:"item switch"},It={class:"info"},Et={class:"item switch"},Dt={class:"info"},Pt={class:"item switch"},Bt={class:"info"},Ht={class:"item slider"},Ot={class:"info"},jt={class:"top"},Ut={class:"item switch"},Yt={class:"info"},Xt={class:"item switch"},Wt={class:"info"},zt={class:"item textinput"},Jt={class:"info"},Kt=A({__name:"Settings",setup(n){const t=P(!1),s=P(null),a=_(),o=M();ie(()=>o.settings.scale,v=>{o.saveSettings("size",v),t.value=!1});function r(v){switch(v.data.action){case"close":t.value==!0?t.value=!1:a.changeTab("");break;case"pressLeft":typeof o.settings.scale=="number"&&a.currentAction==4&&!o.settings.useMouse&&o.settings.scale>10&&(o.settings.scale-=1);break;case"pressRight":typeof o.settings.scale=="number"&&a.currentAction==4&&!o.settings.useMouse&&o.settings.scale<40&&(o.settings.scale+=1);break;case"toggledNuiFocus":s.value!==null&&s.value.focus();break}}function f(v){o.settings.useMouse==!1&&a.currentAction==7&&v.target&&v.target.focus()}return j(()=>{window.addEventListener("message",r)}),Y(()=>{window.removeEventListener("message",r)}),(v,l)=>(g(),m("div",Nt,[i("div",qt,[u(y,{icon:"mdi-close",onClick:l[0]||(l[0]=c=>e(o).settings.useMouse?e(a).changeTab(""):null),class:w({hover:e(a).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(a).getTranslation(["general","settings"])),1)]),i("div",Ft,[i("h1",null,d(e(a).getTranslation(["settings","connections"])),1),i("div",Vt,[u(y,{icon:"mdi-incognito"}),i("div",It,[i("h1",null,d(e(a).getTranslation(["settings","anonymous"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.anonymous?"on":"off"])),1)]),e(a).disableAnonymous!==!0?(g(),F(K,{key:0,modelValue:e(o).settings.anonymous,"onUpdate:modelValue":[l[1]||(l[1]=c=>e(o).settings.anonymous=c),l[2]||(l[2]=c=>e(o).saveSettings("anonymous",e(o).settings.anonymous))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==1&&!e(o).settings.useMouse})},null,8,["modelValue","class"])):x("",!0)]),i("h1",null,d(e(a).getTranslation(["settings","display"])),1),i("div",Et,[u(y,{icon:"mdi-theme-light-dark"}),i("div",Dt,[i("h1",null,d(e(a).getTranslation(["settings","darkMode"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.darkTheme?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.darkTheme,"onUpdate:modelValue":[l[3]||(l[3]=c=>e(o).settings.darkTheme=c),l[4]||(l[4]=c=>e(o).saveSettings("theme",e(o).settings.darkTheme))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==2&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Pt,[u(y,{icon:"mdi-format-list-bulleted"}),i("div",Bt,[i("h1",null,d(e(a).getTranslation(["settings","memberList"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.memberList?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.memberList,"onUpdate:modelValue":[l[5]||(l[5]=c=>e(o).settings.memberList=c),l[6]||(l[6]=c=>e(o).saveSettings("memberList",e(o).settings.memberList))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==3&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Ht,[u(y,{icon:"mdi-resize"}),i("div",Ot,[i("div",jt,[i("h1",null,d(e(a).getTranslation(["settings","size"])),1),i("p",null,d(Number(e(o).settings.scale)/20)+"x",1)]),u($e,{"hide-details":"",modelValue:e(o).settings.scale,"onUpdate:modelValue":l[7]||(l[7]=c=>e(o).settings.scale=c),max:40,min:10,step:1,"thumb-size":16,class:w({hover2:e(a).currentAction==4&&!e(o).settings.useMouse})},null,8,["modelValue","class"])])]),i("h1",null,d(e(a).getTranslation(["settings","device"])),1),i("div",Ut,[u(y,{icon:"mdi-drag-variant"}),i("div",Yt,[i("h1",null,d(e(a).getTranslation(["settings","allowDrag"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.allowDrag?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.allowDrag,"onUpdate:modelValue":[l[8]||(l[8]=c=>e(o).settings.allowDrag=c),l[9]||(l[9]=c=>e(o).saveSettings("allowDrag",e(o).settings.allowDrag))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==5&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Xt,[u(y,{icon:"mdi-mouse"}),i("div",Wt,[i("h1",null,d(e(a).getTranslation(["settings","useMouse"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.useMouse?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.useMouse,"onUpdate:modelValue":[l[10]||(l[10]=c=>e(o).settings.useMouse=c),l[11]||(l[11]=c=>e(o).saveSettings("useMouse",e(o).settings.useMouse))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==6&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),e(a).showCallSigns==!0?(g(),m(E,{key:0},[i("h1",null,d(e(a).getTranslation(["settings","account"])),1),i("div",zt,[u(y,{icon:"mdi-rename"}),i("div",Jt,[i("h1",null,d(e(a).getTranslation(["settings","callsign"])),1),L(i("input",{"onUpdate:modelValue":l[12]||(l[12]=c=>e(o).settings.callsign=c),maxlength:"16",placeholder:"Type Here",onBlur:l[13]||(l[13]=c=>{f(c),e(o).saveSettings("callsign",e(o).settings.callsign)}),ref_key:"inputRef",ref:s,class:w({hover2:e(a).currentAction==7&&!e(o).settings.useMouse})},null,34),[[ce,e(o).settings.callsign]])])])],64)):x("",!0)])]))}});const Gt=R(Kt,[["__scopeId","data-v-28b8bb48"]]),Zt={class:"main"},Qt={class:"top"},es={class:"header"},ts={class:"icons"},ss={class:"tabs"},ns=["onClick"],os=["onClick"],as=A({__name:"Channels",setup(n){const t=_(),s=H(),a=I(),o=M(),r=P(""),f=P(null);function v(h){switch(h.data.action){case"addFavorite":switch(h.data.data.status){case"ok":s.favorites.unshift(h.data.data.data);break;case"noAccess":a.addNotification(t.getTranslation(["notifications","lockedChannelText"]),3e3);break}break;case"removeFavorite":s.favorites=s.favorites.filter(p=>p.frequency!==h.data.data);break;case"toggledNuiFocus":f.value!==null&&f.value.focus();break}}j(()=>{k("getChannels",{}).then(h=>{s.favorites=h.favorites,s.recent=h.recents}),window.addEventListener("message",v)}),Y(()=>{window.removeEventListener("message",v)});function l(h){o.settings.useMouse==!1&&s.showSearch==!0&&h.target&&h.target.focus()}function c(){o.settings.useMouse==!0&&s.openNewFavoritePrompt()}const b=re(()=>{const h=s.currentTab=="favorites"?s.favorites:s.recent,p=r.value.toLowerCase();return h.filter($=>$.label.toLowerCase().includes(p))});return(h,p)=>(g(),m("div",Zt,[i("div",Qt,[i("div",es,[u(y,{icon:"mdi-close",onClick:p[0]||(p[0]=$=>e(o).settings.useMouse?e(t).changeTab(""):null),class:w({hover:e(t).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(t).getTranslation(["channels","header"])),1),i("div",ts,[u(y,{icon:"mdi-plus",onClick:c,class:w({hover:e(t).currentAction==1&&!e(o).settings.useMouse,show:e(s).currentTab=="favorites"})},null,8,["class"]),u(y,{icon:"mdi-magnify",onClick:p[1]||(p[1]=$=>e(o).settings.useMouse?e(s).showSearch=!e(s).showSearch:null),class:w({hover:e(t).currentAction==2&&!e(o).settings.useMouse})},null,8,["class"])])]),u(se,{name:"fade"},{default:S(()=>[e(s).showSearch?(g(),F(ue,{key:0,class:"search-box",placeholder:e(t).getTranslation(["channels","search"]),variant:"solo",density:"compact","single-line":"","hide-details":"",modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=$=>r.value=$),onBlur:l,ref_key:"inputRef",ref:f},null,8,["placeholder","modelValue"])):x("",!0)]),_:1}),i("div",ss,[L((g(),m("div",{class:w(["tab",{selected:e(s).currentTab=="favorites",hover:e(t).currentAction==3&&!e(o).settings.useMouse}]),onClick:p[3]||(p[3]=$=>e(o).settings.useMouse?e(s).currentTab="favorites":null)},[u(y,{icon:"mdi-star"}),i("h1",null,d(e(t).getTranslation(["channels","favorites"])),1)],2)),[[V]]),L((g(),m("div",{class:w(["tab",{selected:e(s).currentTab=="recents",hover:e(t).currentAction==4&&!e(o).settings.useMouse}]),onClick:p[4]||(p[4]=$=>e(o).settings.useMouse?e(s).currentTab="recents":null)},[u(y,{icon:"mdi-history"}),i("h1",null,d(e(t).getTranslation(["channels","recents"])),1)],2)),[[V]])])]),i("div",{class:w(["list",{isFavorites:e(s).currentTab=="favorites"}]),id:"channel-list"},[(g(!0),m(E,null,O(b.value,($,C)=>(g(),m("div",{class:w(["item",{selected:e(t).currentFrequency==$.frequency,hover:e(t).currentAction==5+C&&!e(o).settings.useMouse}]),key:C,onClick:he(U=>e(o).settings.useMouse?e(t).joinFrequency($.frequency,!1,!0):null,["self"])},[i("p",null,d($.label),1),i("button",{onClick:U=>e(s).removeFavorite($.frequency),class:w({hover:e(t).currentAction==(C+5)*-1&&!e(o).settings.useMouse})},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["channels","removeFavorite"])),1)]),_:1}),u(y,{icon:"mdi-delete"})],10,os)],10,ns))),128))],2)]))}});const is=R(as,[["__scopeId","data-v-88daf8d9"]]),cs={class:"main"},rs={class:"top"},ls={key:0,class:"list"},us=["onClick"],ds={class:"text"},gs={key:1,class:"empty"},ms=["innerHTML"],fs=A({__name:"ViewContacts",setup(n){const t=D(),s=_(),a=M();return j(()=>{k("fetchContacts",{}).then(o=>{t.contacts=o.contacts})}),(o,r)=>(g(),m("div",cs,[i("div",rs,[u(y,{icon:"mdi-close",onClick:r[0]||(r[0]=f=>e(a).settings.useMouse?e(s).changeTab(""):null),class:w({hover:e(s).currentAction==0&&!e(a).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(s).getTranslation(["messages","header"])),1)]),e(t).contacts.length>=1?(g(),m("div",ls,[(g(!0),m(E,null,O(e(t).contacts,(f,v)=>L((g(),m("div",{class:w(["item",{hover:e(s).currentAction==v+1&&!e(a).settings.useMouse}]),key:v,onClick:l=>e(t).clickContact(f)},[u(y,{icon:f.isOnline?"mdi-check-circle":"mdi-close-circle",class:w(["circle",{isOnline:f.isOnline}])},null,8,["icon","class"]),i("div",ds,[i("h1",null,d(f.name),1),i("p",null,d(f.latestMessage),1)]),u(ee,{density:"compact"},{default:S(()=>[u(y,{icon:e(a).settings.useMouse?"mdi-dots-vertical":"mdi-delete",class:w({hover:e(s).currentAction==(v+1)*-1-4&&!e(a).settings.useMouse})},null,8,["icon","class"]),u(Ce,{activator:"parent"},{default:S(()=>[u(Ae,null,{default:S(()=>[u(xe,{onClick:l=>e(t).removeContact(f)},{default:S(()=>[u(Le,null,{default:S(()=>[q(d(e(s).getTranslation(["messages","removeContact"])),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)],10,us)),[[V]])),128))])):(g(),m("div",gs,[u(y,{icon:"mdi-emoticon-sad-outline"}),i("h1",{innerHTML:e(s).getTranslation(["messages","empty"])},null,8,ms)]))]))}});const vs=R(fs,[["__scopeId","data-v-ab17a903"]]),_s={class:"main"},hs={class:"top"},ps={key:0},ys={class:"list"},bs={key:0},ws={class:"input"},Ss=["placeholder"],ks=A({__name:"ViewMessages",setup(n){const t=Se(),s=D(),a=_(),o=M(),r=new Date,f=P(null);function v(b){let h="";const p=new Date(b*1e3),$=p.getMonth(),C=p.getDate(),U=p.getHours(),B=p.getMinutes();return C!==r.getDate()&&(h=`${C} ${a.getTranslation(["months",$])} `),h+=`${U<10?"0"+U:U}:${B<10?"0"+B:B}`,h}function l(b){switch(b.data.action){case"addMessage":(a.identifier==b.data.data.receiver||a.identifier==b.data.data.sender)&&s.currentMessages.unshift(b.data.data);break;case"toggledNuiFocus":f.value!==null&&f.value.focus();break}}function c(b){o.settings.useMouse==!1&&a.currentAction==1&&b.target&&b.target.focus()}return j(()=>{const b=t.params;let h;for(let p=0;p<s.contacts.length;p++)s.contacts[p].contact==b.id&&(h=s.contacts[p]);if(h)k("getMessages",{data:h}).then(p=>{s.currentContact=h,s.currentMessages=p});else{T.push("/messages");return}window.addEventListener("message",l)}),Y(()=>{window.removeEventListener("message",l)}),(b,h)=>(g(),m("div",_s,[i("div",hs,[u(y,{icon:"mdi-close",onClick:h[0]||(h[0]=p=>e(o).settings.useMouse?e(a).changeTab(""):null),class:w({hover:e(a).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),e(s).currentContact?(g(),m("h1",ps,d(e(s).currentContact.name),1)):x("",!0)]),i("div",ys,[(g(!0),m(E,null,O(e(s).currentMessages,(p,$)=>(g(),m("div",{class:w(["item",{isAuthor:p.sender==e(a).identifier}]),key:$},[i("p",null,d(v(p.timestamp)),1),i("h1",null,d(p.content),1),p.sender==e(a).identifier?(g(),m("p",bs,d(e(a).getTranslation(["messages","sent"])),1)):x("",!0)],2))),128))]),i("div",ws,[L(i("input",{placeholder:e(a).getTranslation(["messages","input"]),"onUpdate:modelValue":h[1]||(h[1]=p=>e(s).message=p),onKeydown:h[2]||(h[2]=pe((...p)=>e(s).sendMessage&&e(s).sendMessage(...p),["enter"])),class:w({hover3:e(a).currentAction==1&&!e(o).settings.useMouse}),onBlur:c,ref_key:"inputRef",ref:f},null,42,Ss),[[ce,e(s).message]]),L((g(),m("button",{onClick:h[3]||(h[3]=(...p)=>e(s).sendMessage&&e(s).sendMessage(...p)),class:w({hover:e(a).currentAction==2&&!e(o).settings.useMouse})},[u(y,{icon:"mdi-send"})],2)),[[V]])])]))}});const Ms=R(ks,[["__scopeId","data-v-b238ecc2"]]),Ts={class:"main-cont"},$s=A({__name:"MainScanner",setup(n){const t=me(),s=_(),a=P(!1);function o(f){switch(f.data.action){case"fetchNearbyChannels":t.channels=f.data.data.sort(),a.value=!1,T.push("/scanner/list");break}}function r(){a.value==!1&&(a.value=!0,k("fetchNearbyChannels",{}))}return j(()=>{window.addEventListener("message",o)}),Y(()=>{window.removeEventListener("message",o)}),(f,v)=>(g(),m("div",Ts,[a.value?(g(),F(de,{key:0,indeterminate:"",color:"green",size:54,width:5})):x("",!0),u(ee,{onClick:r,disabled:a.value},{default:S(()=>[q(d(e(s).getTranslation(["scanner","scan"])),1)]),_:1},8,["disabled"])]))}});const Cs=R($s,[["__scopeId","data-v-d76f0508"]]),As={class:"main-cont"},xs={key:0,class:"list"},Ls={key:1,class:"notFound"},Rs=A({__name:"ScannerList",setup(n){const t=_(),s=me();return(a,o)=>(g(),m("div",As,[e(s).channels.length>0?(g(),m("div",xs,[(g(!0),m(E,null,O(e(s).channels,(r,f)=>(g(),m("div",{class:"item",key:f},d(e(ne)(e(t).getTranslation(["scanner","channel"]),[r.freq,r.distance])),1))),128))])):(g(),m("div",Ls,d(e(t).getTranslation(["scanner","nothingFound"])),1)),u(ee,{onClick:o[0]||(o[0]=r=>e(T).push("/scanner"))},{default:S(()=>[q(d(e(t).getTranslation(["general","goback"])),1)]),_:1})]))}});const Ns=R(Rs,[["__scopeId","data-v-57b60092"]]),T=ke({history:Me(),routes:[{path:"/",component:lt,meta:{layout:"main",rootRoute:!0}},{path:"/:pathMatch(.*)*",component:ft,meta:{layout:"main"}},{path:"/joinRadio",component:Mt,meta:{layout:"main"}},{path:"/channels",component:is,meta:{layout:"main"}},{path:"/radioMembers",component:Rt,meta:{layout:"main"}},{path:"/settings",component:Gt,meta:{layout:"main"}},{path:"/messages",component:vs,meta:{layout:"main"}},{path:"/messages/:id",component:Ms,meta:{layout:"main"}},{path:"/scanner",component:Cs,meta:{layout:"scanner",rootRoute:!0}},{path:"/scanner/list",component:Ns,meta:{layout:"scanner"}}]}),qs={key:0,class:"top-container"},Fs={class:"top-time unselectable"},Vs={class:"top-volume unselectable"},Is=A({__name:"Top",setup(n){const t=_(),s=M();return(a,o)=>e(t).poweredOn?(g(),m("div",qs,[i("div",null,[u(y,{class:"unselectable top-battery",icon:"mdi-battery"}),i("h1",Fs,d(e(t).currentTime()),1)]),i("div",null,[u(y,{class:"unselectable top-volume-icon",icon:"mdi-volume-high"}),i("h1",Vs,d(e(s).settings.volume)+"% ",1)])])):x("",!0)}});const Es=R(Is,[["__scopeId","data-v-669163a9"]]),Ds=A({__name:"ExtraButtons",setup(n){const t=_(),s=M();return(a,o)=>(g(),m(E,null,[e(t).enablePanicButton?(g(),F(N,{key:0,text:e(t).getTranslation(["general","panicButton"]),location:"start"},{activator:S(({props:r})=>[L(i("a",z({class:"radio-panic-button",onClick:o[0]||(o[0]=(...f)=>e(t).panicButton&&e(t).panicButton(...f))},r,{class:{hovering:e(t).currentAction==-4&&!e(s).settings.useMouse}}),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"])):x("",!0),u(N,{text:e(t).getTranslation(["general","goback"]),location:"bottom"},{activator:S(({props:r})=>[L(i("a",z({class:"radio-home-button",onClick:o[1]||(o[1]=()=>{e(t).playSound("click"),e(T).currentRoute.value.path!=="/"?e(t).changeTab(""):e(t).close()})},r),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(N,{text:e(t).getTranslation(["general","volumeDown"]),location:"start"},{activator:S(({props:r})=>[L(i("a",z({onClick:o[2]||(o[2]=()=>{e(s).settings.volume!==0&&(e(t).playSound("click"),typeof e(s).settings.volume=="number"&&(e(s).settings.volume-=5),e(s).saveSettings("volume",e(s).settings.volume))}),class:["radio-volume-up-button",{hovering:e(t).currentAction==-1&&!e(s).settings.useMouse}]},r),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(N,{text:e(t).getTranslation(["general","volumeUp"]),location:"end"},{activator:S(({props:r})=>[L(i("a",z({onClick:o[3]||(o[3]=()=>{e(s).settings.volume!==100&&(e(t).playSound("click"),typeof e(s).settings.volume=="number"&&(e(s).settings.volume+=5),e(s).saveSettings("volume",e(s).settings.volume))}),class:[{hovering:e(t).currentAction==-2&&!e(s).settings.useMouse},"radio-volume-down-button"]},r),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(N,{text:e(t).poweredOn?e(t).getTranslation(["general","turnOff"]):e(t).getTranslation(["general","turnOn"]),location:"start"},{activator:S(({props:r})=>[L(i("a",z({class:["radio-power-button",{hovering:e(t).currentAction==-3&&!e(s).settings.useMouse}],onClick:o[4]||(o[4]=()=>{e(t).playSound("audio_off"),e(t).togglePoweredOn()})},r),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const Ps=R(Ds,[["__scopeId","data-v-e935e0a8"]]),Bs={key:0,class:"modal"},Hs={class:"top"},Os={key:0},js={key:1,class:"inputs"},Us={key:2,class:"buttons"},Ys=A({__name:"Modal",setup(n){const t=I(),s=M(),a=re(()=>t.data),o=P({});function r(){t.data=void 0,o.value={},s.settings.useMouse==!1&&k("toggleNuiFocus",{new:!1})}function f(v){v.action&&(v.action=="close"||v.action(o.value),r())}return(v,l)=>(g(),F(se,{name:"modalFade"},{default:S(()=>[a.value!==void 0?L((g(),m("div",Bs,[i("div",Hs,[i("h1",null,d(a.value.header),1),u(y,{icon:"mdi-close",onClick:r})]),a.value.description!==void 0?(g(),m("p",Os,d(a.value.description),1)):x("",!0),a.value.inputs!==void 0?(g(),m("div",js,[(g(!0),m(E,null,O(a.value.inputs,(c,b)=>(g(),F(ue,{key:b,label:c.label,placeholder:c.placeholder,type:c.type,modelValue:o.value[c.name],"onUpdate:modelValue":h=>o.value[c.name]=h,variant:"solo","hide-details":""},null,8,["label","placeholder","type","modelValue","onUpdate:modelValue"]))),128))])):x("",!0),a.value.buttons!==void 0?(g(),m("div",Us,[(g(!0),m(E,null,O(a.value.buttons,(c,b)=>(g(),F(ee,{class:"button",variant:"tonal",size:"small",key:b,onClick:h=>f(c)},{default:S(()=>[q(d(c.label),1)]),_:2},1032,["onClick"]))),128))])):x("",!0)])),[[Re,r]]):x("",!0)]),_:1}))}});const Xs={class:"text"},Ws=A({__name:"Notification",props:{data:{},id:{}},setup(n){const t=n,s=P(void 0),a=P(0),o=I();return j(()=>{s.value=setInterval(()=>{const r=Date.now();a.value=(r-t.data.date)/(t.data.timer/100)},1)}),Y(()=>{s.value!==void 0&&(clearTimeout(s.value),s.value=void 0)}),(r,f)=>(g(),m("div",{class:"notification",style:G({"z-index":1e3-r.id})},[i("div",Xs,d(r.data.text),1),u(de,{"model-value":a.value,size:28,width:2,onClick:e(o).removeNotification},{default:S(()=>[u(y,{icon:"mdi-close"})]),_:1},8,["model-value","onClick"])],4))}});const zs=R(Ws,[["__scopeId","data-v-45c5d81c"]]),Js=A({__name:"Notifications",setup(n){const t=I();return(s,a)=>(g(),F(ye,{name:"list",tag:"div",class:"notifications"},{default:S(()=>[(g(!0),m(E,null,O(e(t).notifications,(o,r)=>(g(),F(zs,{key:r,data:o,id:o.uuid},null,8,["data","id"]))),128))]),_:1}))}});const Ks=R(Js,[["__scopeId","data-v-b0941503"]]),Gs=["src"],Zs=["src"],Qs=["src"],en=A({__name:"MainLayout",setup(n){const t=_(),s=M(),a=P(null),o=P(!1);function r(){if(s.settings.allowDrag){let f=function(l){if(a.value!==null){let c=window.innerWidth-l.pageX-a.value.offsetWidth/2,b=window.innerHeight-l.pageY-a.value.offsetHeight/2;c<0&&(c=0),c>window.innerWidth-a.value.offsetWidth&&(c=window.innerWidth-a.value.offsetWidth),b<0&&(b=0),b>window.innerHeight-a.value.offsetHeight&&(b=window.innerHeight-a.value.offsetHeight),s.settings.positionX=`${c}px`,s.settings.positionY=`${b}px`}},v=function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v),a.value!==null&&(s.saveSettings("positionX",s.settings.positionX),s.saveSettings("positionY",s.settings.positionY))};document.addEventListener("mouseup",v),document.addEventListener("mousemove",f)}}return(f,v)=>{const l=le("router-view");return g(),m(E,null,[i("div",{onMousedown:r,class:"main-container",ref_key:"mainCont",ref:a,style:G({transform:`scale(${Number(e(s).settings.scale)/20}) ${e(t).show?"":" translateY(100%)"}`,right:e(s).settings.positionX.toString(),bottom:e(s).settings.positionY.toString(),opacity:e(t).show?"1":"0",cursor:e(s).settings.allowDrag?"move":"default",background:e(t).poweredOn?"var(--background)":"#101121"})},[e(t).hideTop?x("",!0):(g(),F(Es,{key:0})),u(Ys),u(Ks),e(t).poweredOn?(g(),m("div",{key:1,class:w(["items-container",{topBar:!e(t).hideTop}])},[u(l,null,{default:S(({Component:c})=>[u(se,{name:"fade"},{default:S(()=>[(g(),F(be(c)))]),_:2},1024)]),_:1})],2)):x("",!0),u(Ps)],36),i("audio",{id:"audio_on",src:`${o.value?"":"/html"}/sounds/on.ogg`},null,8,Gs),i("audio",{id:"audio_off",src:`${o.value?"":"/html"}/sounds/off.ogg`},null,8,Zs),i("audio",{id:"click",src:`${o.value?"":"/html"}/sounds/click.ogg`},null,8,Qs)],64)}}});const tn=R(en,[["__scopeId","data-v-93b677ed"]]),sn={class:"top"},nn={class:"header"},on=A({__name:"ScannerLayout",setup(n){const t=_();return(s,a)=>{const o=le("router-view");return g(),m("div",{class:"main",style:G({opacity:e(t).show?"1":"0"})},[i("div",sn,[i("div",nn,d(e(t).getTranslation(["scanner","header"])),1)]),u(o)],4)}}});const an=R(on,[["__scopeId","data-v-31c15fd7"]]),cn={class:"header"},rn={class:"radio-member-list"},ln=A({__name:"PlayerList",setup(n){const t=P(!0),s=P(null),a=M(),o=_(),{settings:r}=oe(a),{debug:f,radioMembers:v,showCallSigns:l,poweredOn:c}=oe(o);let b=null;function h(C){switch(C.data.action){case"open":t.value=C.data.data.ShowPlayerList;break;case"setShowPlayerList":t.value=C.data.ShowPlayerList;break}}function p(C){C==!0?b==null&&(b=setInterval(()=>{o.show&&(console.log("showPlayerList option",t.value),console.log("memberList setting",a.settings.memberList),console.log("radioMembers",JSON.stringify(v.value)),console.log("radioMembers length",v.value.length),console.log("---"))},1e3)):C==!1&&b!==null&&(clearTimeout(b),b=null)}ie(f,C=>{p(C)}),p(f.value),j(()=>{window.addEventListener("message",h)}),Y(()=>{window.removeEventListener("message",h)});function $(){if(a.settings.allowDrag){let C=function(B){if(s.value!==null){let X=window.innerWidth-B.pageX-s.value.offsetWidth/2,J=B.pageY-s.value.offsetHeight/2;X<0&&(X=0),X>window.innerWidth-s.value.offsetWidth&&(X=window.innerWidth-s.value.offsetWidth),J<0&&(J=0),J>window.innerHeight-s.value.offsetHeight&&(J=window.innerHeight-s.value.offsetHeight),a.settings.position2X=`${X}px`,a.settings.position2Y=`${J}px`}},U=function(){document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",U),s.value!==null&&(k("savesettings",{name:"position2X",value:a.settings.position2X}),k("savesettings",{name:"position2Y",value:a.settings.position2Y}))};document.addEventListener("mouseup",U),document.addEventListener("mousemove",C)}}return(C,U)=>t.value==!0&&e(r).memberList==!0&&e(v).length>0&&e(c)==!0?(g(),m("div",{key:0,class:"radio-members",style:G({cursor:e(r).allowDrag?"move":"default",transform:"scale("+Number(e(r).scale)/20+")",top:e(r).position2Y.toString(),right:e(r).position2X.toString()}),ref_key:"playerList",ref:s,onMousedown:$},[i("div",cn,d(e(o).getTranslation(["radioMembers","title"])),1),i("div",rn,[(g(!0),m(E,null,O(e(v),(B,X)=>(g(),m("div",{class:w(["radio-member",{talking:B.talking}]),key:X},[i("span",null,d(B.name)+d(e(l)==!0&&B.callsign!==void 0&&B.callsign.trim().length>0?` (${B.callsign})`:""),1)],2))),128))])],36)):x("",!0)}});const un=R(ln,[["__scopeId","data-v-5060164a"]]),dn=A({__name:"Layout",setup(n){const t=_(),s=H(),a=D(),o=I(),r=M();function f(l){switch(l.data.action){case"open":t.open(),t.disableAnonymous=l.data.data.DisableAnonymous,t.showCallSigns=l.data.data.AllowCallSigns,t.currentAction=0,t.enablePanicButton=l.data.data.EnablePanicButton,t.debug=l.data.data.Debug;break;case"openScanner":t.open("scanner");break;case"close":T.currentRoute.value.path!=="/settings"&&(T.currentRoute.value.path!=="/"?t.changeTab(""):t.close());break;case"insertContact":a.contacts.push(l.data.data);break;case"setShowPlayerList":t.showCallSigns=l.data.AllowCallSigns;break;case"arrowDown":if(t.allowActionUpdate==!0&&t.poweredOn==!0){const c=ge[T.currentRoute.value.matched[0].path];if(c){switch(l.data.arrow){case"down":t.currentAction<=(typeof c.max=="number"?c.max:c.max())?t.currentAction+=1:t.currentAction=typeof c.min=="number"?c.min:c.min();break;case"up":t.currentAction>=(typeof c.min=="number"?c.min:c.min())?t.currentAction-=1:t.currentAction=typeof c.max=="number"?c.max:c.max();break}if(c.scrollSelection&&c.getScroll){const b=document.querySelector(c.scrollSelection);b&&b.scrollTo(0,c.getScroll(t.currentAction))}}}break;case"clickedEnter":if(o.data!==void 0)o.data=void 0;else{const c=Z[T.currentRoute.value.matched[0].path];c&&(c[t.currentAction]?c[t.currentAction]():c.invalid&&c.invalid())}break;case"pressLeft":(T.currentRoute.value.matched[0].path=="/messages"||T.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction<=-5?t.currentAction=t.currentAction*-1-4:T.currentRoute.value.matched[0].path=="/channels"&&t.currentAction<=-5?t.currentAction=t.currentAction*-1:T.currentRoute.value.matched[0].path!=="/settings"&&t.currentAction!==3&&(t.currentAction=-4);break;case"pressRight":(T.currentRoute.value.matched[0].path=="/messages"||T.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction>=1?t.currentAction=t.currentAction*-1-4:T.currentRoute.value.matched[0].path=="/channels"&&t.currentAction>4?t.currentAction=t.currentAction*-1:t.currentAction==-4&&(t.currentAction=0);break;case"updateData":t.street=l.data.data.streetLabel,t.translations=l.data.data.translations,t.voiceScript=l.data.data.voiceScript,t.currentFrequency=l.data.data.radioFrequency,t.customRadioName=l.data.data.radioLabel,t.status=l.data.data.status;break;case"updateRadioMembers":t.radioMembers=l.data.data.filter(c=>c!=null);break;case"setNewestReceivedMessage":t.latestMessage=l.data.data;break;case"updateSettings":r.settings.scale=l.data.data.size,r.settings.callsign=l.data.data.callsign,t.identifier=l.data.data.identifier,t.disableAnonymous!==!0&&(r.settings.anonymous=l.data.data.anonymous),r.settings.darkTheme=l.data.data.theme,r.settings.memberList=l.data.data.memberList,r.settings.useMouse=l.data.data.useMouse,document.body.classList.add(r.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(r.settings.darkTheme?"lightmode":"darkmode"),l.data.data.volume&&(r.settings.volume=l.data.data.volume),r.settings.positionX=l.data.data.positionX,r.settings.positionY=l.data.data.positionY,r.settings.position2X=l.data.data.position2X,r.settings.position2Y=l.data.data.position2Y;break}}function v(l){switch(l.key.toLowerCase()){case"escape":if(r.settings.useMouse==!1){s.showSearch==!0&&(s.showSearch=!1),k("toggleNuiFocus",{new:!1});return}if(o.data){o.data=void 0,k("toggleNuiFocus",{new:!1});return}T.currentRoute.value.meta.rootRoute==!0?t.close():typeof T.currentRoute.value.meta.layout=="string"?t.changeTab(Be[T.currentRoute.value.meta.layout]):t.changeTab("");break}}return j(()=>{document.body.classList.add(r.settings.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",v),window.addEventListener("message",f)}),Y(()=>{window.removeEventListener("keydown",v),window.removeEventListener("message",f)}),(l,c)=>(g(),F(Ne,{class:w({open:e(t).show})},{default:S(()=>[e(T).currentRoute.value.meta.layout=="scanner"?(g(),F(an,{key:0})):x("",!0),e(T).currentRoute.value.meta.layout=="main"?(g(),F(tn,{key:1})):x("",!0),u(un)]),_:1},8,["class"]))}}),gn=qe({components:Fe,directives:Ve,theme:{defaultTheme:"dark"},icons:{defaultSet:"mdi",aliases:Ie,sets:{mdi:Ee}}}),mn=Te();De.load({google:{families:["Source Sans Pro","Montserrat","Lato","Roboto"]}});const te=we(dn);te.use(gn);te.use(T);te.use(mn);te.mount("#app");
