import{l as A,V as f,W as i,A as u,X as S,Y as g,u as e,I as x,Z as w,_ as C,$ as d,R as N,B as Y,a0 as ge,a1 as me,C as j,a2 as O,F as R,a3 as H,a4 as F,a5 as z,r as D,w as oe,U as ae,j as ee,G as te,a6 as fe,a7 as ve,L as _e,a8 as ie,D as he,a9 as pe}from"./@vue-b8fa97ce.js";import{u as ye,c as be,a as we}from"./vue-router-1c3666e7.js";import{d as U,s as Se,c as ke}from"./pinia-260715d0.js";import{V as q,a as b,R as V,b as W,c as Me,d as ce,e as Te,f as $e,g as Ce,h as Ae,i as G,j as re,C as xe,k as Le,l as Re,m as qe,n as Ne,o as Fe,p as Ve}from"./vuetify-e12e996a.js";/* empty css             */import{W as Ie}from"./webfontloader-5f99b16f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();const Ee=["1","2","3","4","5","6","7","8","9",".","0","delete"],ne={delete:"mdi-backspace"},De={main:"",scanner:"scanner"},le={"/":{min:-3,default:0,max:4},"/joinRadio":{min:-3,default:1,max:13},"/messages":{min:-3,default:0,max:()=>E().contacts.length},"/channels":{min:-3,default:0,max:()=>{const n=P();return 5+(n.currentTab=="favorites"?n.favorites:n.recent).length},getScroll:n=>0+(n>6?(n-6)*48:0),scrollSelection:"#channel-list"},"/radioMembers":{min:-3,default:0,max:0},"/messages/:id":{min:-3,default:0,max:2},"/settings":{min:-3,default:0,max:()=>v().showCallSigns==!0?7:6,getScroll:n=>n<=1?0:n*50,scrollSelection:"#settings-scroll"}},Be={[-4]:()=>{v().panicButton()},[-3]:()=>{const n=v();n.currentFrequency!==0&&n.joinFrequency("0",!0),n.playSound("audio_off"),n.togglePoweredOn()},[-2]:()=>{const n=v(),t=T();t.settings.volume!==100&&(n.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)+5))},[-1]:()=>{const n=v(),t=T();t.settings.volume!==0&&(n.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)-5))}},J={"/":{0:()=>{v().changeTab("radioMembers")},1:()=>{v().changeTab("channels")},2:()=>{v().changeTab("joinRadio")},3:()=>{v().changeTab("settings")},4:()=>{v().changeTab("messages")}},"/radioMembers":{0:()=>{v().changeTab("")},invalid:()=>{const n=v(),t=E();if(n.currentAction<=-4&&n.currentAction>=n.radioMembers.length*-1-4){const s=n.radioMembers[n.currentAction*-1-5];s&&t.addContact(s)}}},"/messages":{0:()=>{v().changeTab("")},invalid:()=>{const n=v(),t=E();if(n.currentAction>0&&n.currentAction<=t.contacts.length){const s=t.contacts[n.currentAction-1];s&&t.clickContact(s)}else if(n.currentAction<=-4&&n.currentAction>=t.contacts.length*-1-4){const s=t.contacts[n.currentAction*-1-5];s&&t.removeContact(s)}}},"/messages/:id":{0:()=>{v().changeTab("messages")},1:()=>{M("toggleNuiFocus",{new:!0})},2:()=>{E().sendMessage()}},"/settings":{0:()=>{v().changeTab("")},1:()=>{const n=T();n.settings.anonymous=!n.settings.anonymous,n.saveSettings("anonymous",n.settings.anonymous)},2:()=>{const n=T();n.settings.darkTheme=!n.settings.darkTheme,n.saveSettings("theme",n.settings.darkTheme)},3:()=>{const n=T();n.settings.memberList=!n.settings.memberList,n.saveSettings("memberList",n.settings.memberList)},5:()=>{const n=T();n.settings.allowDrag=!n.settings.allowDrag,n.saveSettings("allowDrag",n.settings.allowDrag)},6:()=>{const n=T();n.settings.useMouse=!n.settings.useMouse,n.saveSettings("useMouse",n.settings.useMouse)},7:()=>{v().showCallSigns==!0&&M("toggleNuiFocus",{new:!0})}},"/channels":{0:()=>{v().changeTab("")},1:()=>{P().openNewFavoritePrompt()},2:()=>{const n=P();n.showSearch=!n.showSearch,M("toggleNuiFocus",{new:!0})},3:()=>{P().currentTab="favorites"},4:()=>{P().currentTab="recents"},invalid:()=>{const n=v(),t=P();if(n.currentAction>=5){const s=P(),a=s.currentTab=="favorites"?s.favorites:s.recent;n.joinFrequency(a[n.currentAction-5].frequency,!1,!0)}else n.currentAction<=-5&&t.removeFavorite(t.favorites[(n.currentAction+5)*-1].frequency)}},"/joinRadio":{0:()=>{v().changeTab("")},1:()=>{K().joinFrequency()},invalid:()=>{const n=v(),t=K();if(n.currentAction>=2){let s=null;if(n.currentAction<11?s=(n.currentAction-1).toString():n.currentAction==11?s=".":n.currentAction==12?s="0":n.currentAction==13&&t.frequency.length>0&&(t.frequency=t.frequency.slice(0,-1)),s!==null){const a=t.frequency+s;isNaN(Number(a))==!1&&t.frequency.length<10&&(t.frequency=a)}}}}};for(const n in J)J[n]={...J[n],...Be};const se=(n,t)=>n.replace(/{(\d+)}/g,function(s,a){return typeof t[a]<"u"?t[a]:s}),Pe=()=>{try{return GetParentResourceName()}catch{return"zerio-radio"}},M=async(n,t={})=>await(await fetch(`https://${Pe()}/${n}`,{body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),v=U("main",{state:()=>({show:!1,poweredOn:!0,showCallSigns:!0,disableAnonymous:!1,debug:!0,currentAction:0,allowActionUpdate:!0,currentFrequency:0,translations:{},hideTop:!1,enablePanicButton:!0,street:"",status:"Unknown",voiceScript:"",identifier:"",customRadioName:"",radioMembers:[],latestMessage:void 0}),actions:{currentTime:()=>{const n=new Date,t=n.getHours(),s=n.getMinutes();return`${t>=10?t:"0"+t}:${s>=10?s:"0"+s}`},close:(n=!1)=>{const t=v();n==!0?M("removeFocus",{}):(t.show=!1,M("close",{}),document.body.classList.remove("open"))},open:n=>{const t=v();t.show=!0,t.hideTop=!1,v().changeTab(n||""),document.body.classList.add("open")},playSound:n=>{if(v().poweredOn==!0){const t=document.getElementById(n);t&&(t.load(),t.volume=Number(T().settings.volume)/100*.5,t.play())}},togglePoweredOn:()=>{const n=v();n.poweredOn=!n.poweredOn},panicButton:()=>{const n=I(),t=v();M("panicButton").then(s=>{s.status?n.addNotification(t.getTranslation(["notifications","panicButtonCooldown"]),3e3):n.addNotification(t.getTranslation(["notifications","usedPanicButton"]),3e3)})},joinFrequency:async(n,t,s)=>{const a=v();if(n!==void 0&&n!=="0"&&n!==""){a.playSound("click");const o=await M("joinRadio",{frequency:Number(n)});t!==!0&&(o.result==!0?(s!==!0&&a.changeTab(""),I().addNotification(se(a.getTranslation(["notifications","joinedRadioText"]),[o.frequencyLabel!==""&&o.frequencyLabel!==void 0?`the ${o.frequencyLabel}`:`${o.frequency} MHz`]),3e3),a.currentFrequency=o.frequency):I().addNotification(a.getTranslation(["notifications","lockedChannelText"]),3e3))}else a.playSound("click"),M("leaveRadio",{}),a.currentFrequency=0,t!==!0&&(I().addNotification(a.getTranslation(["notifications","leftRadioText"]),3e3),s!==!0&&a.changeTab(""))},changeTab:n=>{const t=v();if(t.hideTop=n=="channels"||n=="settings"||n=="joinRadio"||n=="radioMembers"||n.includes("messages"),$.currentRoute.value.matched[0].path=="/messages/:id"){const a=E();a.message="",a.currentContact=void 0,a.currentMessages=[]}$.push("/"+n);const s=le["/"+n];t.currentAction=s&&typeof s.default=="number"?s.default:0,n==""&&M("fetchNewestReceivedMessage",{}),T().settings.useMouse==!1&&M("updateJoinRadioChecks",{new:n=="joinRadio"})},getTranslation:n=>{const t=v();let s;for(let a=0;a<n.length;a++)if(typeof s!="string")if(s==null&&t.translations[n[a]])s=t.translations[n[a]];else if(s!==void 0&&s[n[a]])s=s[n[a]];else return"Invalid translation";return s==null?"Invalid Translation":typeof s=="string"?s:"Translation is not a string"}}}),T=U("settings",{state:()=>({settings:{darkTheme:!0,anonymous:!1,allowDrag:!1,memberList:!1,useMouse:!0,scale:20,callsign:"",positionX:"100px",positionY:"128px",position2X:"32px",position2Y:"32px",volume:100}}),actions:{saveSettings:(n,t)=>{const s=T(),a=v();s.settings[n]=t,n=="theme"?(document.body.classList.add(s.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(s.settings.darkTheme?"lightmode":"darkmode")):n=="useMouse"&&a.close(),typeof t=="boolean"&&(t=t==!0?1:0),M("savesettings",{name:n,value:t})}}}),I=U("modal",{state:()=>({data:void 0,notifications:[],id:0}),actions:{addNotification:(n,t=3e3)=>{const s=I(),a=s.id;s.notifications.push({text:n,timer:t,uuid:a,date:Date.now()}),s.id++,setTimeout(()=>{const o=s.notifications.findIndex(l=>l.uuid==a);o!==-1&&s.notifications.splice(o,1)},t)},removeNotification:n=>{const t=I(),s=t.notifications.findIndex(a=>a.uuid==n);s!==void 0&&typeof s=="number"&&s!==-1&&t.notifications.splice(s,1)}}}),K=U("joinRadio",{state:()=>({frequency:""}),actions:{joinFrequency:()=>{const n=K(),t=v();n.frequency.charAt(n.frequency.length-1)=="."&&(n.frequency=n.frequency.slice(0,-1)),t.joinFrequency(n.frequency,!1),n.frequency=""}}}),P=U("channels",{state:()=>({favorites:[{label:"Favorit kanal",frequency:68},{label:"En till Favorit kanal",frequency:69}],currentTab:"favorites",recent:[],showSearch:!1}),actions:{openNewFavoritePrompt:()=>{const n=v();I().data={header:n.getTranslation(["channels","newPromptHeader"]),inputs:[{placeholder:n.getTranslation(["channels","frequency"]),type:"number",name:"frequency"}],buttons:[{label:n.getTranslation(["general","cancel"]),action:"close"},{label:n.getTranslation(["general","continue"]),action:t=>{t.frequency.trim().length>0&&P().addFavorite(Number(t.frequency))}}]},T().settings.useMouse==!1&&M("toggleNuiFocus",{new:!0})},removeFavorite:n=>{M("removeFavorite",{frequency:n})},addFavorite:n=>{M("addFavorite",{frequency:n})}}}),E=U("messages",{state:()=>({contacts:[],currentContact:void 0,message:"",currentMessages:[]}),actions:{sendMessage(){const n=E();n.message.trim().length>=1&&n.currentContact!==void 0&&M("sendMessage",{message:n.message,contact:n.currentContact}).then(()=>{n.message=""})},addContact(n){const t=E(),s=v(),a=I();t.isPlayerContact(n.identifier)==!1?M("addContact",{data:n}).then(o=>{o.status=="ok"&&a.addNotification(s.getTranslation(["messages","addedContact"]))}):a.addNotification(s.getTranslation(["messages","alreadyContact"]))},isPlayerContact(n){return E().contacts.findIndex(a=>a.identifier==n)!==-1},removeContact(n){const t=E();M("removeContact",{data:n}).then(s=>{s.status=="ok"&&(t.contacts=t.contacts.filter(a=>a.contact!==n.contact),I().addNotification(v().getTranslation(["messages","removedContact"])))})},clickContact(n){v().changeTab("messages/"+n.contact)}}}),ue=U("scanner",{state:()=>({channels:[]})}),He={class:"item-container"},je={class:"info-div status"},Oe={class:"text"},Ue={class:"status-label"},Ye={class:"status-description street-label"},Xe={class:"info-div radio"},We={class:"top"},ze={class:"top-icons unselectable"},Je={class:"text"},Ke={class:"status-label radio-status"},Ge={class:"status-description radio-label"},Ze={class:"info-div settings buttons"},Qe={class:"info-div contacts"},et={key:0,class:"text"},tt={class:"status-label"},st={class:"status-description street-label"},nt={class:"info-div location"},ot={class:"text"},at={class:"status-description street-label"},it=A({__name:"Main",setup(n){const t=v(),s=T();return(a,o)=>(d(),f("div",He,[i("div",je,[i("div",Oe,[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["info","statusTitle"])),1)]),_:1}),i("h1",Ue,g(e(t).getTranslation(["info","status"])),1),i("h2",Ye,g(e(t).status),1)]),u(b,{class:"unselectable status-icon",icon:"mdi-calendar-range"})]),i("div",Xe,[i("div",We,[i("div",ze,[u(b,{class:"top-status-icon unselectable",icon:"mdi-network-strength-3"}),u(b,{class:"top-status-icon unselectable",icon:"mdi-bluetooth-audio"}),u(b,{class:"top-status-icon unselectable",icon:"mdi-remote"}),u(b,{class:"top-status-icon unselectable",icon:"mdi-server"})]),i("div",Je,[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["info","radioStatus"])),1)]),_:1}),i("h1",Ke,g(e(t).currentFrequency==0||e(t).currentFrequency==null?e(t).getTranslation(["info","notInRadio"]):e(t).getTranslation(["info","inRadio"])),1),i("h2",Ge,g(e(t).currentFrequency!==0&&e(t).currentFrequency!==void 0?e(t).customRadioName!==""?e(t).customRadioName:e(se)(e(t).getTranslation(["info","frequency"]),[e(t).currentFrequency]):""),1)])]),u(q,{text:e(t).getTranslation(["info","openRadioMembers"]),location:"left"},{activator:S(({props:l})=>[u(b,Y({onClick:o[0]||(o[0]=m=>e(t).changeTab("radioMembers")),class:"unselectable status-icon"},l,{class:{hover:e(t).currentAction==0&&!e(s).settings.useMouse},icon:"mdi-account-multiple-outline"}),null,16,["class"])]),_:1},8,["text"])]),i("div",Ze,[x((d(),f("div",{class:w(["button",{hover:e(t).currentAction==1&&!e(s).settings.useMouse}]),onClick:o[1]||(o[1]=l=>e(t).changeTab("channels"))},[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["info","openChannels"])),1)]),_:1}),u(b,{class:"unselectable",icon:"mdi-format-list-bulleted"}),i("h1",null,g(e(t).getTranslation(["general","channels"])),1)],2)),[[V]]),x((d(),f("div",{class:w(["button",{hover:e(t).currentAction==2&&!e(s).settings.useMouse}]),onClick:o[2]||(o[2]=l=>e(t).changeTab("joinRadio"))},[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["info","joinRadio"])),1)]),_:1}),u(b,{class:"unselectable",icon:"mdi-phone"}),i("h1",null,g(e(t).getTranslation(["general","connect"])),1)],2)),[[V]]),x((d(),f("div",{class:w(["button",{hover:e(t).currentAction==3&&!e(s).settings.useMouse}]),onClick:o[3]||(o[3]=l=>e(t).changeTab("settings"))},[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["info","openSettings"])),1)]),_:1}),u(b,{class:"unselectable",icon:"mdi-dots-horizontal"}),i("h1",null,g(e(t).getTranslation(["general","settings"])),1)],2)),[[V]])]),i("div",Qe,[e(t).latestMessage!==void 0?(d(),f("div",et,[i("h1",tt,g(e(t).latestMessage.author),1),i("h2",st,g(e(t).latestMessage.message),1)])):C("",!0),x((d(),f("div",{class:w(["button",{hover:e(t).currentAction==4&&!e(s).settings.useMouse}]),onClick:o[4]||(o[4]=l=>e(t).changeTab("messages"))},[u(b,{class:"unselectable",icon:"mdi-message-bulleted"}),u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["general","viewMessages"])),1)]),_:1})],2)),[[V]])]),i("div",nt,[u(b,{class:"unselectable status-icon",icon:"mdi-map-marker"}),i("div",ot,[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["info","locationTitle"])),1)]),_:1}),i("h2",at,g(e(t).street),1)])])]))}});const L=(n,t)=>{const s=n.__vccOpts||n;for(const[a,o]of t)s[a]=o;return s},ct=L(it,[["__scopeId","data-v-faa3a52a"]]),de=n=>(ge("data-v-2f4eb9ff"),n=n(),me(),n),rt={class:"main"},lt=de(()=>i("p",null,"Seems like something went wrong, this route could not be found.",-1)),ut=de(()=>i("p",null," Please open an ticket and send a screenshot of this to get further info. ",-1)),dt=A({__name:"NotFound",setup(n){const t=v();return(s,a)=>(d(),f("div",rt,[lt,ut,i("p",null,[N(" Your route is: "),i("b",null,g(s.$route.fullPath),1)]),i("p",{class:"goback",onClick:a[0]||(a[0]=o=>e(t).changeTab(""))},"Click here to go back")]))}});const gt=L(dt,[["__scopeId","data-v-2f4eb9ff"]]),mt={class:"main"},ft={class:"top"},vt={class:"info"},_t={class:"frequency"},ht={class:"value"},pt={class:"buttons"},yt=["onClick","id"],bt={class:"inner"},wt=A({__name:"JoinRadio",setup(n){const t=v(),s=K(),a=T();function o(_){let r=!1;switch((_.key.toLowerCase()=="comma"||_.key.toLowerCase()=="period")&&(_.key="."),_.key.toLowerCase()){case"backspace":case"delete":s.frequency.length>0?(s.frequency=s.frequency.slice(0,-1),r=!0):M("closeFromNui",{});break;case"enter":s.joinFrequency();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":const c=s.frequency+_.key.toString();isNaN(Number(c))==!1&&s.frequency.length<10&&(s.frequency=c,r=!0);break}if(r){const c=document.getElementById(`button-${_.key.toLowerCase()=="backspace"?"delete":_.key}`);if(c){let y=function(h){const k=h.target;c!==null&&k.parentNode==c&&(setTimeout(()=>{k!==null&&k.remove()},750),c.removeEventListener("DOMNodeInserted",y))},p=c.getBoundingClientRect();c.addEventListener("DOMNodeInserted",y,!1),c.dispatchEvent(new MouseEvent("mousedown",{clientX:p.left+p.width/2,clientY:p.top+p.height/2})),setTimeout(()=>{c!==null&&c.dispatchEvent(new Event("mouseup"))},300)}}}function l(_){switch(_.data.action){case"joinRadioKeyDown":o({key:_.data.key});break}}j(()=>{window.addEventListener("message",l),window.addEventListener("keydown",o)}),O(()=>{window.removeEventListener("message",l),window.removeEventListener("keydown",o)});function m(_){switch(_){case"delete":s.frequency.length>0&&(s.frequency=s.frequency.slice(0,-1));break;default:const r=s.frequency+_;isNaN(Number(r))==!1&&s.frequency.length<10&&(s.frequency=r);break}}return(_,r)=>(d(),f("div",mt,[i("div",ft,[u(b,{icon:"mdi-close",onClick:r[0]||(r[0]=c=>e(t).changeTab("")),class:w({hover:e(t).currentAction==0&&!e(a).settings.useMouse})},null,8,["class"]),i("h1",null,g(e(t).getTranslation(["joinRadio","title"])),1)]),i("div",vt,[i("div",_t,[i("div",ht,g(e(s).frequency?e(s).frequency:e(t).getTranslation(["joinRadio","frequency"])),1),u(b,{icon:"mdi-arrow-right-thin",onClick:e(s).joinFrequency,class:w({hover:e(t).currentAction==1&&!e(a).settings.useMouse})},null,8,["onClick","class"])]),i("div",pt,[(d(!0),f(R,null,H(e(Ee),(c,y)=>x((d(),f("div",{class:w(["button",{hovering:e(t).currentAction==2+y&&!e(a).settings.useMouse}]),key:y,onClick:p=>m(c),id:"button-"+c},[i("div",bt,[e(ne)[c]==null?(d(),f(R,{key:0},[N(g(c),1)],64)):(d(),F(b,{key:1,icon:e(ne)[c]},null,8,["icon"]))])],10,yt)),[[V]])),128))])])]))}});const St=L(wt,[["__scopeId","data-v-11b95e43"]]),kt={class:"main"},Mt={class:"top"},Tt={key:0,class:"empty-text"},$t={key:1,class:"radio-members-container"},Ct=["onClick"],At=A({__name:"RadioMembers",setup(n){const t=v(),s=T(),a=E();return j(()=>{M("fetchContacts",{}).then(o=>{a.contacts=o.contacts})}),(o,l)=>(d(),f("div",kt,[i("div",Mt,[u(b,{icon:"mdi-close",onClick:l[0]||(l[0]=m=>e(t).changeTab("")),class:w({hover:e(t).currentAction==0&&!e(s).settings.useMouse})},null,8,["class"]),i("h1",null,g(e(t).getTranslation(["radioMembers","title"])),1)]),e(t).radioMembers.length==0||e(t).currentFrequency==0?(d(),f("div",Tt,g(e(t).currentFrequency==0?e(t).getTranslation(["radioMembers","notInChannel"]):e(t).getTranslation(["radioMembers","emptyMembersList"])),1)):(d(),f("div",$t,[(d(!0),f(R,null,H(e(t).radioMembers,(m,_)=>(d(),f(R,null,[m!=null?(d(),f("div",{class:w(["radio-member",{hover:e(t).currentAction==_+1&&!e(s).settings.useMouse}]),key:_,style:z({color:m.talking==!0?"#fff":"rgb(225,225,225)"})},[i("p",null,g(m.name)+g(e(t).showCallSigns==!0&&m.callsign!==void 0&&m.callsign.trim().length>0?` (${m.callsign})`:""),1),i("button",{onClick:r=>e(a).addContact(m),class:w({hover:e(t).currentAction==(_+1)*-1-4&&!e(s).settings.useMouse})},[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["radioMembers","addContact"])),1)]),_:1}),u(b,{icon:e(a).isPlayerContact(m.identifier)?"mdi-star":"mdi-star-outline"},null,8,["icon"])],10,Ct)],6)):C("",!0)],64))),256))]))]))}});const xt=L(At,[["__scopeId","data-v-635e38b7"]]),Lt={class:"main"},Rt={class:"top"},qt={class:"items",id:"settings-scroll"},Nt={class:"item switch"},Ft={class:"info"},Vt={class:"item switch"},It={class:"info"},Et={class:"item switch"},Dt={class:"info"},Bt={class:"item slider"},Pt={class:"info"},Ht={class:"top"},jt={class:"item switch"},Ot={class:"info"},Ut={class:"item switch"},Yt={class:"info"},Xt={class:"item textinput"},Wt={class:"info"},zt=A({__name:"Settings",setup(n){const t=D(!1),s=D(null),a=v(),o=T();oe(()=>o.settings.scale,_=>{o.saveSettings("size",_),t.value=!1});function l(_){switch(_.data.action){case"close":t.value==!0?t.value=!1:a.changeTab("");break;case"pressLeft":typeof o.settings.scale=="number"&&a.currentAction==4&&!o.settings.useMouse&&o.settings.scale>10&&(o.settings.scale-=1);break;case"pressRight":typeof o.settings.scale=="number"&&a.currentAction==4&&!o.settings.useMouse&&o.settings.scale<40&&(o.settings.scale+=1);break;case"toggledNuiFocus":s.value!==null&&s.value.focus();break}}function m(_){o.settings.useMouse==!1&&a.currentAction==7&&_.target&&_.target.focus()}return j(()=>{window.addEventListener("message",l)}),O(()=>{window.removeEventListener("message",l)}),(_,r)=>(d(),f("div",Lt,[i("div",Rt,[u(b,{icon:"mdi-close",onClick:r[0]||(r[0]=c=>e(o).settings.useMouse?e(a).changeTab(""):null),class:w({hover:e(a).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),i("h1",null,g(e(a).getTranslation(["general","settings"])),1)]),i("div",qt,[i("h1",null,g(e(a).getTranslation(["settings","connections"])),1),i("div",Nt,[u(b,{icon:"mdi-incognito"}),i("div",Ft,[i("h1",null,g(e(a).getTranslation(["settings","anonymous"])),1),i("p",null,g(e(a).getTranslation(["settings",e(o).settings.anonymous?"on":"off"])),1)]),e(a).disableAnonymous!==!0?(d(),F(W,{key:0,modelValue:e(o).settings.anonymous,"onUpdate:modelValue":[r[1]||(r[1]=c=>e(o).settings.anonymous=c),r[2]||(r[2]=c=>e(o).saveSettings("anonymous",e(o).settings.anonymous))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==1&&!e(o).settings.useMouse})},null,8,["modelValue","class"])):C("",!0)]),i("h1",null,g(e(a).getTranslation(["settings","display"])),1),i("div",Vt,[u(b,{icon:"mdi-theme-light-dark"}),i("div",It,[i("h1",null,g(e(a).getTranslation(["settings","darkMode"])),1),i("p",null,g(e(a).getTranslation(["settings",e(o).settings.darkTheme?"on":"off"])),1)]),u(W,{modelValue:e(o).settings.darkTheme,"onUpdate:modelValue":[r[3]||(r[3]=c=>e(o).settings.darkTheme=c),r[4]||(r[4]=c=>e(o).saveSettings("theme",e(o).settings.darkTheme))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==2&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Et,[u(b,{icon:"mdi-format-list-bulleted"}),i("div",Dt,[i("h1",null,g(e(a).getTranslation(["settings","memberList"])),1),i("p",null,g(e(a).getTranslation(["settings",e(o).settings.memberList?"on":"off"])),1)]),u(W,{modelValue:e(o).settings.memberList,"onUpdate:modelValue":[r[5]||(r[5]=c=>e(o).settings.memberList=c),r[6]||(r[6]=c=>e(o).saveSettings("memberList",e(o).settings.memberList))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==3&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Bt,[u(b,{icon:"mdi-resize"}),i("div",Pt,[i("div",Ht,[i("h1",null,g(e(a).getTranslation(["settings","size"])),1),i("p",null,g(Number(e(o).settings.scale)/20)+"x",1)]),u(Me,{"hide-details":"",modelValue:e(o).settings.scale,"onUpdate:modelValue":r[7]||(r[7]=c=>e(o).settings.scale=c),max:40,min:10,step:1,"thumb-size":16,class:w({hover2:e(a).currentAction==4&&!e(o).settings.useMouse})},null,8,["modelValue","class"])])]),i("h1",null,g(e(a).getTranslation(["settings","device"])),1),i("div",jt,[u(b,{icon:"mdi-drag-variant"}),i("div",Ot,[i("h1",null,g(e(a).getTranslation(["settings","allowDrag"])),1),i("p",null,g(e(a).getTranslation(["settings",e(o).settings.allowDrag?"on":"off"])),1)]),u(W,{modelValue:e(o).settings.allowDrag,"onUpdate:modelValue":[r[8]||(r[8]=c=>e(o).settings.allowDrag=c),r[9]||(r[9]=c=>e(o).saveSettings("allowDrag",e(o).settings.allowDrag))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==5&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Ut,[u(b,{icon:"mdi-mouse"}),i("div",Yt,[i("h1",null,g(e(a).getTranslation(["settings","useMouse"])),1),i("p",null,g(e(a).getTranslation(["settings",e(o).settings.useMouse?"on":"off"])),1)]),u(W,{modelValue:e(o).settings.useMouse,"onUpdate:modelValue":[r[10]||(r[10]=c=>e(o).settings.useMouse=c),r[11]||(r[11]=c=>e(o).saveSettings("useMouse",e(o).settings.useMouse))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==6&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),e(a).showCallSigns==!0?(d(),f(R,{key:0},[i("h1",null,g(e(a).getTranslation(["settings","account"])),1),i("div",Xt,[u(b,{icon:"mdi-rename"}),i("div",Wt,[i("h1",null,g(e(a).getTranslation(["settings","callsign"])),1),x(i("input",{"onUpdate:modelValue":r[12]||(r[12]=c=>e(o).settings.callsign=c),maxlength:"16",placeholder:"Type Here",onBlur:r[13]||(r[13]=c=>{m(c),e(o).saveSettings("callsign",e(o).settings.callsign)}),ref_key:"inputRef",ref:s,class:w({hover2:e(a).currentAction==7&&!e(o).settings.useMouse})},null,34),[[ae,e(o).settings.callsign]])])])],64)):C("",!0)])]))}});const Jt=L(zt,[["__scopeId","data-v-97687a42"]]),Kt={class:"main"},Gt={class:"top"},Zt={class:"header"},Qt={class:"icons"},es={class:"tabs"},ts=["onClick"],ss=["onClick"],ns=A({__name:"Channels",setup(n){const t=v(),s=P(),a=I(),o=T(),l=D(""),m=D(null);function _(p){switch(p.data.action){case"addFavorite":switch(p.data.data.status){case"ok":s.favorites.unshift(p.data.data.data);break;case"noAccess":a.addNotification(t.getTranslation(["notifications","lockedChannelText"]),3e3);break}break;case"removeFavorite":s.favorites=s.favorites.filter(h=>h.frequency!==p.data.data);break;case"toggledNuiFocus":m.value!==null&&m.value.focus();break}}j(()=>{M("getChannels",{}).then(p=>{s.favorites=p.favorites,s.recent=p.recents}),window.addEventListener("message",_)}),O(()=>{window.removeEventListener("message",_)});function r(p){o.settings.useMouse==!1&&s.showSearch==!0&&p.target&&p.target.focus()}function c(){o.settings.useMouse==!0&&s.openNewFavoritePrompt()}const y=ee(()=>{const p=s.currentTab=="favorites"?s.favorites:s.recent,h=l.value.toLowerCase();return p.filter(k=>k.label.toLowerCase().includes(h))});return(p,h)=>(d(),f("div",Kt,[i("div",Gt,[i("div",Zt,[u(b,{icon:"mdi-close",onClick:h[0]||(h[0]=k=>e(o).settings.useMouse?e(t).changeTab(""):null),class:w({hover:e(t).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),i("h1",null,g(e(t).getTranslation(["channels","header"])),1),i("div",Qt,[u(b,{icon:"mdi-plus",onClick:c,class:w({hover:e(t).currentAction==1&&!e(o).settings.useMouse,show:e(s).currentTab=="favorites"})},null,8,["class"]),u(b,{icon:"mdi-magnify",onClick:h[1]||(h[1]=k=>e(o).settings.useMouse?e(s).showSearch=!e(s).showSearch:null),class:w({hover:e(t).currentAction==2&&!e(o).settings.useMouse})},null,8,["class"])])]),u(te,{name:"fade"},{default:S(()=>[e(s).showSearch?(d(),F(ce,{key:0,class:"search-box",placeholder:e(t).getTranslation(["channels","search"]),variant:"solo",density:"compact","single-line":"","hide-details":"",modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=k=>l.value=k),onBlur:r,ref_key:"inputRef",ref:m},null,8,["placeholder","modelValue"])):C("",!0)]),_:1}),i("div",es,[x((d(),f("div",{class:w(["tab",{selected:e(s).currentTab=="favorites",hover:e(t).currentAction==3&&!e(o).settings.useMouse}]),onClick:h[3]||(h[3]=k=>e(o).settings.useMouse?e(s).currentTab="favorites":null)},[u(b,{icon:"mdi-star"}),i("h1",null,g(e(t).getTranslation(["channels","favorites"])),1)],2)),[[V]]),x((d(),f("div",{class:w(["tab",{selected:e(s).currentTab=="recents",hover:e(t).currentAction==4&&!e(o).settings.useMouse}]),onClick:h[4]||(h[4]=k=>e(o).settings.useMouse?e(s).currentTab="recents":null)},[u(b,{icon:"mdi-history"}),i("h1",null,g(e(t).getTranslation(["channels","recents"])),1)],2)),[[V]])])]),i("div",{class:w(["list",{isFavorites:e(s).currentTab=="favorites"}]),id:"channel-list"},[(d(!0),f(R,null,H(y.value,(k,B)=>(d(),f("div",{class:w(["item",{selected:e(t).currentFrequency==k.frequency,hover:e(t).currentAction==5+B&&!e(o).settings.useMouse}]),key:B,onClick:fe(X=>e(o).settings.useMouse?e(t).joinFrequency(k.frequency,!1,!0):null,["self"])},[i("p",null,g(k.label),1),i("button",{onClick:X=>e(s).removeFavorite(k.frequency),class:w({hover:e(t).currentAction==(B+5)*-1&&!e(o).settings.useMouse})},[u(q,{activator:"parent",location:"top"},{default:S(()=>[N(g(e(t).getTranslation(["channels","removeFavorite"])),1)]),_:1}),u(b,{icon:"mdi-delete"})],10,ss)],10,ts))),128))],2)]))}});const os=L(ns,[["__scopeId","data-v-c356e5c7"]]),as={class:"main"},is={class:"top"},cs={key:0,class:"list"},rs=["onClick"],ls={class:"text"},us={key:1,class:"empty"},ds=["innerHTML"],gs=A({__name:"ViewContacts",setup(n){const t=E(),s=v(),a=T();return j(()=>{M("fetchContacts",{}).then(o=>{t.contacts=o.contacts})}),(o,l)=>(d(),f("div",as,[i("div",is,[u(b,{icon:"mdi-close",onClick:l[0]||(l[0]=m=>e(a).settings.useMouse?e(s).changeTab(""):null),class:w({hover:e(s).currentAction==0&&!e(a).settings.useMouse})},null,8,["class"]),i("h1",null,g(e(s).getTranslation(["messages","header"])),1)]),e(t).contacts.length>=1?(d(),f("div",cs,[(d(!0),f(R,null,H(e(t).contacts,(m,_)=>x((d(),f("div",{class:w(["item",{hover:e(s).currentAction==_+1&&!e(a).settings.useMouse}]),key:_,onClick:r=>e(t).clickContact(m)},[u(b,{icon:m.isOnline?"mdi-check-circle":"mdi-close-circle",class:w(["circle",{isOnline:m.isOnline}])},null,8,["icon","class"]),i("div",ls,[i("h1",null,g(m.name),1),i("p",null,g(m.latestMessage),1)]),u(G,{density:"compact"},{default:S(()=>[u(b,{icon:e(a).settings.useMouse?"mdi-dots-vertical":"mdi-delete",class:w({hover:e(s).currentAction==(_+1)*-1-4&&!e(a).settings.useMouse})},null,8,["icon","class"]),u(Te,{activator:"parent"},{default:S(()=>[u($e,null,{default:S(()=>[u(Ce,{onClick:r=>e(t).removeContact(m)},{default:S(()=>[u(Ae,null,{default:S(()=>[N(g(e(s).getTranslation(["messages","removeContact"])),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)],10,rs)),[[V]])),128))])):(d(),f("div",us,[u(b,{icon:"mdi-emoticon-sad-outline"}),i("h1",{innerHTML:e(s).getTranslation(["messages","empty"])},null,8,ds)]))]))}});const ms=L(gs,[["__scopeId","data-v-c17a24f1"]]),fs={class:"main"},vs={class:"top"},_s={key:0},hs={class:"list"},ps={key:0},ys={class:"input"},bs=["placeholder"],ws=A({__name:"ViewMessages",setup(n){const t=ye(),s=E(),a=v(),o=T(),l=new Date,m=D(null);function _(y){let p="";const h=new Date(y*1e3),k=h.getMonth(),B=h.getDate(),X=h.getHours(),Q=h.getMinutes();return B!==l.getDate()&&(p=`${B} ${a.getTranslation(["months",k])} `),p+=`${X<10?"0"+X:X}:${Q<10?"0"+Q:Q}`,p}function r(y){switch(y.data.action){case"addMessage":(a.identifier==y.data.data.receiver||a.identifier==y.data.data.sender)&&s.currentMessages.unshift(y.data.data);break;case"toggledNuiFocus":m.value!==null&&m.value.focus();break}}function c(y){o.settings.useMouse==!1&&a.currentAction==1&&y.target&&y.target.focus()}return j(()=>{const y=t.params;let p;for(let h=0;h<s.contacts.length;h++)s.contacts[h].contact==y.id&&(p=s.contacts[h]);if(p)M("getMessages",{data:p}).then(h=>{s.currentContact=p,s.currentMessages=h});else{$.push("/messages");return}window.addEventListener("message",r)}),O(()=>{window.removeEventListener("message",r)}),(y,p)=>(d(),f("div",fs,[i("div",vs,[u(b,{icon:"mdi-close",onClick:p[0]||(p[0]=h=>e(o).settings.useMouse?e(a).changeTab(""):null),class:w({hover:e(a).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),e(s).currentContact?(d(),f("h1",_s,g(e(s).currentContact.name),1)):C("",!0)]),i("div",hs,[(d(!0),f(R,null,H(e(s).currentMessages,(h,k)=>(d(),f("div",{class:w(["item",{isAuthor:h.sender==e(a).identifier}]),key:k},[i("p",null,g(_(h.timestamp)),1),i("h1",null,g(h.content),1),h.sender==e(a).identifier?(d(),f("p",ps,g(e(a).getTranslation(["messages","sent"])),1)):C("",!0)],2))),128))]),i("div",ys,[x(i("input",{placeholder:e(a).getTranslation(["messages","input"]),"onUpdate:modelValue":p[1]||(p[1]=h=>e(s).message=h),onKeydown:p[2]||(p[2]=ve((...h)=>e(s).sendMessage&&e(s).sendMessage(...h),["enter"])),class:w({hover3:e(a).currentAction==1&&!e(o).settings.useMouse}),onBlur:c,ref_key:"inputRef",ref:m},null,42,bs),[[ae,e(s).message]]),x((d(),f("button",{onClick:p[3]||(p[3]=(...h)=>e(s).sendMessage&&e(s).sendMessage(...h)),class:w({hover:e(a).currentAction==2&&!e(o).settings.useMouse})},[u(b,{icon:"mdi-send"})],2)),[[V]])])]))}});const Ss=L(ws,[["__scopeId","data-v-f23599c3"]]),ks={class:"main-cont"},Ms=A({__name:"MainScanner",setup(n){const t=ue(),s=v(),a=D(!1);function o(m){switch(m.data.action){case"fetchNearbyChannels":t.channels=m.data.data.sort(),a.value=!1,$.push("/scanner/list");break}}function l(){a.value==!1&&(a.value=!0,M("fetchNearbyChannels",{}))}return j(()=>{window.addEventListener("message",o)}),O(()=>{window.removeEventListener("message",o)}),(m,_)=>(d(),f("div",ks,[a.value?(d(),F(re,{key:0,indeterminate:"",color:"green",size:54,width:5})):C("",!0),u(G,{onClick:l,disabled:a.value},{default:S(()=>[N(g(e(s).getTranslation(["scanner","scan"])),1)]),_:1},8,["disabled"])]))}});const Ts=L(Ms,[["__scopeId","data-v-b9f2597e"]]),$s={class:"main-cont"},Cs={key:0,class:"list"},As={key:1,class:"notFound"},xs=A({__name:"ScannerList",setup(n){const t=v(),s=ue();return(a,o)=>(d(),f("div",$s,[e(s).channels.length>0?(d(),f("div",Cs,[(d(!0),f(R,null,H(e(s).channels,(l,m)=>(d(),f("div",{class:"item",key:m},g(e(se)(e(t).getTranslation(["scanner","channel"]),[l.freq,l.distance])),1))),128))])):(d(),f("div",As,g(e(t).getTranslation(["scanner","nothingFound"])),1)),u(G,{onClick:o[0]||(o[0]=l=>e($).push("/scanner"))},{default:S(()=>[N(g(e(t).getTranslation(["general","goback"])),1)]),_:1})]))}});const Ls=L(xs,[["__scopeId","data-v-a0c07115"]]),$=be({history:we(),routes:[{path:"/",component:ct,meta:{layout:"main",rootRoute:!0}},{path:"/:pathMatch(.*)*",component:gt,meta:{layout:"main"}},{path:"/joinRadio",component:St,meta:{layout:"main"}},{path:"/channels",component:os,meta:{layout:"main"}},{path:"/radioMembers",component:xt,meta:{layout:"main"}},{path:"/settings",component:Jt,meta:{layout:"main"}},{path:"/messages",component:ms,meta:{layout:"main"}},{path:"/messages/:id",component:Ss,meta:{layout:"main"}},{path:"/scanner",component:Ts,meta:{layout:"scanner",rootRoute:!0}},{path:"/scanner/list",component:Ls,meta:{layout:"scanner"}}]}),Rs={key:0,class:"top-container"},qs={class:"top-time unselectable"},Ns={class:"top-volume unselectable"},Fs=A({__name:"Top",setup(n){const t=v(),s=T();return(a,o)=>e(t).poweredOn?(d(),f("div",Rs,[i("div",null,[u(b,{class:"unselectable top-battery",icon:"mdi-battery"}),i("h1",qs,g(e(t).currentTime()),1)]),i("div",null,[u(b,{class:"unselectable top-volume-icon",icon:"mdi-volume-high"}),i("h1",Ns,g(e(s).settings.volume)+"% ",1)])])):C("",!0)}});const Vs=L(Fs,[["__scopeId","data-v-75a6e9a1"]]),Is=A({__name:"ExtraButtons",setup(n){const t=v(),s=T();return(a,o)=>(d(),f(R,null,[e(t).enablePanicButton?(d(),F(q,{key:0,text:e(t).getTranslation(["general","panicButton"]),location:"start"},{activator:S(({props:l})=>[x(i("a",Y({class:"radio-panic-button",onClick:o[0]||(o[0]=(...m)=>e(t).panicButton&&e(t).panicButton(...m))},l,{class:{hovering:e(t).currentAction==-4&&!e(s).settings.useMouse}}),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"])):C("",!0),u(q,{text:e(t).getTranslation(["general","goback"]),location:"bottom"},{activator:S(({props:l})=>[x(i("a",Y({class:"radio-home-button",onClick:o[1]||(o[1]=()=>{e(t).playSound("click"),e($).currentRoute.value.path!=="/"?e(t).changeTab(""):e(t).close()})},l),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(q,{text:e(t).getTranslation(["general","volumeDown"]),location:"start"},{activator:S(({props:l})=>[x(i("a",Y({onClick:o[2]||(o[2]=()=>{e(s).settings.volume!==0&&(e(t).playSound("click"),typeof e(s).settings.volume=="number"&&(e(s).settings.volume-=5),e(s).saveSettings("volume",e(s).settings.volume))}),class:["radio-volume-up-button",{hovering:e(t).currentAction==-1&&!e(s).settings.useMouse}]},l),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(q,{text:e(t).getTranslation(["general","volumeUp"]),location:"end"},{activator:S(({props:l})=>[x(i("a",Y({onClick:o[3]||(o[3]=()=>{e(s).settings.volume!==100&&(e(t).playSound("click"),typeof e(s).settings.volume=="number"&&(e(s).settings.volume+=5),e(s).saveSettings("volume",e(s).settings.volume))}),class:[{hovering:e(t).currentAction==-2&&!e(s).settings.useMouse},"radio-volume-down-button"]},l),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(q,{text:e(t).poweredOn?e(t).getTranslation(["general","turnOff"]):e(t).getTranslation(["general","turnOn"]),location:"start"},{activator:S(({props:l})=>[x(i("a",Y({class:["radio-power-button",{hovering:e(t).currentAction==-3&&!e(s).settings.useMouse}],onClick:o[4]||(o[4]=()=>{e(t).currentFrequency!==0&&e(t).joinFrequency(0,!0),e(t).playSound("audio_off"),e(t).togglePoweredOn()})},l),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const Es=L(Is,[["__scopeId","data-v-cd84c473"]]),Ds={key:0,class:"modal"},Bs={class:"top"},Ps={key:0},Hs={key:1,class:"inputs"},js={key:2,class:"buttons"},Os=A({__name:"Modal",setup(n){const t=I(),s=T(),a=ee(()=>t.data),o=D({});function l(){t.data=void 0,o.value={},s.settings.useMouse==!1&&M("toggleNuiFocus",{new:!1})}function m(_){_.action&&(_.action=="close"||_.action(o.value),l())}return(_,r)=>(d(),F(te,{name:"modalFade"},{default:S(()=>[a.value!==void 0?x((d(),f("div",Ds,[i("div",Bs,[i("h1",null,g(a.value.header),1),u(b,{icon:"mdi-close",onClick:l})]),a.value.description!==void 0?(d(),f("p",Ps,g(a.value.description),1)):C("",!0),a.value.inputs!==void 0?(d(),f("div",Hs,[(d(!0),f(R,null,H(a.value.inputs,(c,y)=>(d(),F(ce,{key:y,label:c.label,placeholder:c.placeholder,type:c.type,modelValue:o.value[c.name],"onUpdate:modelValue":p=>o.value[c.name]=p,variant:"solo","hide-details":""},null,8,["label","placeholder","type","modelValue","onUpdate:modelValue"]))),128))])):C("",!0),a.value.buttons!==void 0?(d(),f("div",js,[(d(!0),f(R,null,H(a.value.buttons,(c,y)=>(d(),F(G,{class:"button",variant:"tonal",size:"small",key:y,onClick:p=>m(c)},{default:S(()=>[N(g(c.label),1)]),_:2},1032,["onClick"]))),128))])):C("",!0)])),[[xe,l]]):C("",!0)]),_:1}))}});const Us={class:"text"},Ys=A({__name:"Notification",props:{data:{},id:{}},setup(n){const t=n,s=D(void 0),a=D(0),o=I();return j(()=>{s.value=setInterval(()=>{const l=Date.now();a.value=(l-t.data.date)/(t.data.timer/100)},1)}),O(()=>{s.value!==void 0&&(clearTimeout(s.value),s.value=void 0)}),(l,m)=>(d(),f("div",{class:"notification",style:z({"z-index":1e3-l.id})},[i("div",Us,g(l.data.text),1),u(re,{"model-value":a.value,size:28,width:2,onClick:e(o).removeNotification},{default:S(()=>[u(b,{icon:"mdi-close"})]),_:1},8,["model-value","onClick"])],4))}});const Xs=L(Ys,[["__scopeId","data-v-bf325974"]]),Ws=A({__name:"Notifications",setup(n){const t=I();return(s,a)=>(d(),F(_e,{name:"list",tag:"div",class:"notifications"},{default:S(()=>[(d(!0),f(R,null,H(e(t).notifications,(o,l)=>(d(),F(Xs,{key:l,data:o,id:o.uuid},null,8,["data","id"]))),128))]),_:1}))}});const zs=L(Ws,[["__scopeId","data-v-63fc928c"]]),Js=["src"],Ks=["src"],Gs=["src"],Zs=A({__name:"MainLayout",setup(n){const t=v(),s=T(),a=D(null),o=D(!1);function l(){if(s.settings.allowDrag){let m=function(r){if(a.value!==null){let c=window.innerWidth-r.pageX-a.value.offsetWidth/2,y=window.innerHeight-r.pageY-a.value.offsetHeight/2;c<0&&(c=0),c>window.innerWidth-a.value.offsetWidth&&(c=window.innerWidth-a.value.offsetWidth),y<0&&(y=0),y>window.innerHeight-a.value.offsetHeight&&(y=window.innerHeight-a.value.offsetHeight),s.settings.positionX=`${c}px`,s.settings.positionY=`${y}px`}},_=function(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",_),a.value!==null&&(s.saveSettings("positionX",s.settings.positionX),s.saveSettings("positionY",s.settings.positionY))};document.addEventListener("mouseup",_),document.addEventListener("mousemove",m)}}return(m,_)=>{const r=ie("router-view");return d(),f(R,null,[i("div",{onMousedown:l,class:"main-container",ref_key:"mainCont",ref:a,style:z({transform:`scale(${Number(e(s).settings.scale)/20}) ${e(t).show?"":" translateY(100%)"}`,right:e(s).settings.positionX.toString(),bottom:e(s).settings.positionY.toString(),opacity:e(t).show?"1":"0",cursor:e(s).settings.allowDrag?"move":"default",background:e(t).poweredOn?"var(--background)":"#101121"})},[e(t).hideTop?C("",!0):(d(),F(Vs,{key:0})),u(Os),u(zs),e(t).poweredOn?(d(),f("div",{key:1,class:w(["items-container",{topBar:!e(t).hideTop}])},[u(r,null,{default:S(({Component:c})=>[u(te,{name:"fade"},{default:S(()=>[(d(),F(he(c)))]),_:2},1024)]),_:1})],2)):C("",!0),u(Es)],36),i("audio",{id:"audio_on",src:`${o.value?"":"/html"}/sounds/on.ogg`},null,8,Js),i("audio",{id:"audio_off",src:`${o.value?"":"/html"}/sounds/off.ogg`},null,8,Ks),i("audio",{id:"click",src:`${o.value?"":"/html"}/sounds/click.ogg`},null,8,Gs)],64)}}});const Qs=L(Zs,[["__scopeId","data-v-7616026d"]]),en={class:"top"},tn={class:"header"},sn=A({__name:"ScannerLayout",setup(n){const t=v();return(s,a)=>{const o=ie("router-view");return d(),f("div",{class:"main",style:z({opacity:e(t).show?"1":"0"})},[i("div",en,[i("div",tn,g(e(t).getTranslation(["scanner","header"])),1)]),u(o)],4)}}});const nn=L(sn,[["__scopeId","data-v-615b1b38"]]),on={class:"header"},an={class:"radio-member-list"},cn=A({__name:"PlayerList",setup(n){const t=D(!0),s=D(null),a=T(),o=v(),{debug:l}=Se(o);let m=null;function _(y){switch(y.data.action){case"open":t.value=y.data.data.ShowPlayerList;break;case"setShowPlayerList":t.value=y.data.ShowPlayerList;break}}oe(l,y=>{y==!0?m=setInterval(()=>{o.show&&console.log("DEBUG",t.value,a.settings.memberList,c.value)},1e3):m!==null&&(clearTimeout(m),m=null)}),j(()=>{window.addEventListener("message",_)}),O(()=>{window.removeEventListener("message",_)});function r(){if(a.settings.allowDrag){let y=function(h){if(s.value!==null){let k=window.innerWidth-h.pageX-s.value.offsetWidth/2,B=h.pageY-s.value.offsetHeight/2;k<0&&(k=0),k>window.innerWidth-s.value.offsetWidth&&(k=window.innerWidth-s.value.offsetWidth),B<0&&(B=0),B>window.innerHeight-s.value.offsetHeight&&(B=window.innerHeight-s.value.offsetHeight),a.settings.position2X=`${k}px`,a.settings.position2Y=`${B}px`}},p=function(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",p),s.value!==null&&(M("savesettings",{name:"position2X",value:a.settings.position2X}),M("savesettings",{name:"position2Y",value:a.settings.position2Y}))};document.addEventListener("mouseup",p),document.addEventListener("mousemove",y)}}const c=ee(()=>{let y=0;for(let p=0;p<o.radioMembers.length;p++)o.radioMembers[p]!==null&&y++;return y});return(y,p)=>t.value==!0&&e(a).settings.memberList==!0&&c.value>0?(d(),f("div",{key:0,class:"radio-members",style:z({cursor:e(a).settings.allowDrag?"move":"default",transform:"scale("+Number(e(a).settings.scale)/20+")",top:e(a).settings.position2Y.toString(),right:e(a).settings.position2X.toString()}),ref_key:"playerList",ref:s,onMousedown:r},[i("div",on,g(e(o).getTranslation(["radioMembers","title"])),1),i("div",an,[(d(!0),f(R,null,H(e(o).radioMembers,(h,k)=>(d(),f(R,{key:k},[h!==null?(d(),f("div",{class:w(["radio-member",{talking:h.talking}]),key:k},[i("span",null,g(h.name)+g(e(o).showCallSigns==!0&&h.callsign!==void 0&&h.callsign.trim().length>0?` (${h.callsign})`:""),1)],2)):C("",!0)],64))),128))])],36)):C("",!0)}});const rn=L(cn,[["__scopeId","data-v-01896ab9"]]),ln=A({__name:"Layout",setup(n){const t=v(),s=P(),a=E(),o=I(),l=T();function m(r){switch(r.data.action){case"open":t.open(),t.disableAnonymous=r.data.data.DisableAnonymous,t.showCallSigns=r.data.data.AllowCallSigns,t.currentAction=0,t.enablePanicButton=r.data.data.EnablePanicButton,t.debug=r.data.data.Debug;break;case"openScanner":t.open("scanner");break;case"close":$.currentRoute.value.path!=="/settings"&&($.currentRoute.value.path!=="/"?t.changeTab(""):t.close());break;case"insertContact":a.contacts.push(r.data.data);break;case"setShowPlayerList":t.showCallSigns=r.data.AllowCallSigns;break;case"arrowDown":if(t.allowActionUpdate==!0&&t.poweredOn==!0){const c=le[$.currentRoute.value.matched[0].path];if(c){switch(r.data.arrow){case"down":t.currentAction<=(typeof c.max=="number"?c.max:c.max())?t.currentAction+=1:t.currentAction=typeof c.min=="number"?c.min:c.min();break;case"up":t.currentAction>=(typeof c.min=="number"?c.min:c.min())?t.currentAction-=1:t.currentAction=typeof c.max=="number"?c.max:c.max();break}if(c.scrollSelection&&c.getScroll){const y=document.querySelector(c.scrollSelection);y&&y.scrollTo(0,c.getScroll(t.currentAction))}}}break;case"clickedEnter":if(o.data!==void 0)o.data=void 0;else{const c=J[$.currentRoute.value.matched[0].path];c&&(c[t.currentAction]?c[t.currentAction]():c.invalid&&c.invalid())}break;case"pressLeft":($.currentRoute.value.matched[0].path=="/messages"||$.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction<=-5?t.currentAction=t.currentAction*-1-4:$.currentRoute.value.matched[0].path=="/channels"&&t.currentAction<=-5?t.currentAction=t.currentAction*-1:$.currentRoute.value.matched[0].path!=="/settings"&&t.currentAction!==3&&(t.currentAction=-4);break;case"pressRight":($.currentRoute.value.matched[0].path=="/messages"||$.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction>=1?t.currentAction=t.currentAction*-1-4:$.currentRoute.value.matched[0].path=="/channels"&&t.currentAction>4?t.currentAction=t.currentAction*-1:t.currentAction==-4&&(t.currentAction=0);break;case"updateData":t.street=r.data.data.streetLabel,t.translations=r.data.data.translations,t.voiceScript=r.data.data.voiceScript,t.currentFrequency=r.data.data.radioFrequency,t.customRadioName=r.data.data.radioLabel,t.status=r.data.data.status;break;case"updateRadioMembers":t.radioMembers=r.data.data;break;case"setNewestReceivedMessage":t.latestMessage=r.data.data;break;case"updateSettings":l.settings.scale=r.data.data.size,l.settings.callsign=r.data.data.callsign,t.identifier=r.data.data.identifier,t.disableAnonymous!==!0&&(l.settings.anonymous=r.data.data.anonymous),l.settings.darkTheme=r.data.data.theme,l.settings.memberList=r.data.data.memberList,l.settings.useMouse=r.data.data.useMouse,document.body.classList.add(l.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(l.settings.darkTheme?"lightmode":"darkmode"),r.data.data.volume&&(l.settings.volume=r.data.data.volume),l.settings.positionX=r.data.data.positionX,l.settings.positionY=r.data.data.positionY,l.settings.position2X=r.data.data.position2X,l.settings.position2Y=r.data.data.position2Y;break}}function _(r){switch(r.key.toLowerCase()){case"escape":if(l.settings.useMouse==!1){s.showSearch==!0&&(s.showSearch=!1),M("toggleNuiFocus",{new:!1});return}if(o.data){o.data=void 0,M("toggleNuiFocus",{new:!1});return}$.currentRoute.value.meta.rootRoute==!0?t.close():typeof $.currentRoute.value.meta.layout=="string"?t.changeTab(De[$.currentRoute.value.meta.layout]):t.changeTab("");break}}return j(()=>{document.body.classList.add(l.settings.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",_),window.addEventListener("message",m)}),O(()=>{window.removeEventListener("keydown",_),window.removeEventListener("message",m)}),(r,c)=>(d(),F(Le,{class:w({open:e(t).show})},{default:S(()=>[e($).currentRoute.value.meta.layout=="scanner"?(d(),F(nn,{key:0})):C("",!0),e($).currentRoute.value.meta.layout=="main"?(d(),F(Qs,{key:1})):C("",!0),u(rn)]),_:1},8,["class"]))}}),un=Re({components:qe,directives:Ne,theme:{defaultTheme:"dark"},icons:{defaultSet:"mdi",aliases:Fe,sets:{mdi:Ve}}}),dn=ke();Ie.load({google:{families:["Source Sans Pro","Montserrat","Lato","Roboto"]}});const Z=pe(ln);Z.use(un);Z.use($);Z.use(dn);Z.mount("#app");
