import{d as S,o as v,c as b,a as l,b as u,w as m,e as p,V as T,t as h,f as F,g as q,m as $,h as _,F as R,R as j,u as I,n as L,i as N,j as B,k as ne,r as y,l as P,p as U,q as J,s as G,v as se,x as oe,y as K,z as Y,A as ie,B as le,S as H,C as re,D as ue,E as de,G as ce}from"./.pnpm-7c4d9f1e.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();const Q=(e,i)=>e.replace(/{(\d+)}/g,function(o,r){return typeof i[r]<"u"?i[r]:o}),O=async(e,i)=>await(await fetch(`https://zerio-radio/${e}`,{body:JSON.stringify(i||{}),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),fe=[{text:"150%",value:1.5},{text:"140%",value:1.4},{text:"130%",value:1.3},{text:"120%",value:1.2},{text:"110%",value:1.1},{text:"100%",value:1},{text:"90%",value:.9},{text:"80%",value:.8},{text:"70%",value:.7},{text:"60%",value:.6},{text:"50%",value:.5}],me={key:0,class:"top-container"},ve={class:"top-time unselectable"},ge={class:"top-volume unselectable"},be=S({__name:"Top",props:["poweredOn","settings","time"],setup(e){return(i,o)=>e.poweredOn?(v(),b("div",me,[l("div",null,[u(T,{class:"unselectable top-battery"},{default:m(()=>[p("mdi-battery")]),_:1}),l("h1",ve,h(e.time),1)]),l("div",null,[u(T,{class:"unselectable top-volume-icon"},{default:m(()=>[p("mdi-volume-high")]),_:1}),l("h1",ge,h(e.settings.volume)+"%",1)])])):F("",!0)}});const D=(e,i)=>{const o=e.__vccOpts||e;for(const[r,a]of i)o[r]=a;return o},ye=D(be,[["__scopeId","data-v-b3a018ed"]]),he=S({__name:"ExtraButtons",props:["settings","currentTab","poweredOn","currentFrequency","translations"],emits:["playSound","changeTab","close","saveSettings","togglePoweredOn","joinFrequency"],setup(e,{emit:i}){function o(){i("close")}function r(f){i("playSound",f)}function a(f){i("changeTab",f)}function n(f,g){i("saveSettings",f,g)}function c(){i("togglePoweredOn")}function s(f,g){i("joinFrequency",f.toString(),g)}return(f,g)=>(v(),b(R,null,[u(_,{text:e.translations.general.goback,location:"bottom"},{activator:m(({props:k})=>[q(l("a",$({class:"radio-home-button",onClick:g[0]||(g[0]=()=>{r("click"),e.currentTab!=="main"?a("main"):o()})},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.translations.general.volumeUp,location:"start"},{activator:m(({props:k})=>[q(l("a",$({onClick:g[1]||(g[1]=()=>{e.settings.volume!==100&&(r("click"),e.settings.volume+=5,n("volume",e.settings.volume))}),class:"radio-volume-up-button"},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.translations.general.volumeDown,location:"end"},{activator:m(({props:k})=>[q(l("a",$({onClick:g[2]||(g[2]=()=>{e.settings.volume!==0&&(r("click"),e.settings.volume-=5,n("volume",e.settings.volume))}),class:"radio-volume-down-button"},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"]),u(_,{text:e.poweredOn?e.translations.general.turnOff:e.translations.general.turnOn,location:"start"},{activator:m(({props:k})=>[q(l("a",$({class:"radio-power-button",onClick:g[3]||(g[3]=()=>{e.currentFrequency!==0&&s(0,!0),r("audio_off"),c()})},k),null,16),[[j,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const pe=D(he,[["__scopeId","data-v-192c1d23"]]),we={class:"info-div status"},xe={class:"status-label"},ke={class:"status-description street-label"},Te={class:"icons"},_e={class:"info-div radio"},Se={class:"top"},qe={class:"top-icons unselectable"},$e={class:"status-label radio-status"},Re={class:"status-description radio-label"},Fe={class:"icons icons2"},Le={class:"info-div settings"},De=S({__name:"Info",props:["currentFrequency","customRadioName","currentTab","street","translations"],emits:["changeTab"],setup(e,{emit:i}){const o=e;function r(a){i("changeTab",a)}return(a,n)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="main"?"1":"0","z-index":e.currentTab=="main"?2:1})},[l("div",we,[l("div",$({class:"text"},o),[u(_,{activator:"parent",location:"top"},{default:m(()=>[p(h(e.translations.info.statusTitle),1)]),_:1}),l("h1",xe,h(e.translations.info.status),1),l("h2",ke,h(e.street),1)],16),l("div",Te,[u(T,{class:"unselectable status-icon"},{default:m(()=>[p("mdi-calendar-range")]),_:1})])]),l("div",_e,[l("div",Se,[l("div",qe,[u(T,{class:"top-status-icon unselectable"},{default:m(()=>[p("mdi-network-strength-3 ")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:m(()=>[p("mdi-bluetooth-audio ")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:m(()=>[p("mdi-remote")]),_:1}),u(T,{class:"top-status-icon unselectable"},{default:m(()=>[p("mdi-server")]),_:1})]),l("div",$({class:"text"},o),[u(_,{activator:"parent",location:"top"},{default:m(()=>[p(h(e.translations.info.radioStatus),1)]),_:1}),l("h1",$e,h(e.currentFrequency==0?e.translations.info.notInRadio:e.translations.info.inRadio),1),l("h2",Re,h(e.currentFrequency!==0?e.customRadioName!==""?e.customRadioName:I(Q)(e.translations.info.frequency,[e.currentFrequency]):""),1)],16)]),l("div",Fe,[u(_,{text:e.translations.info.openRadioMembers,location:"left"},{activator:m(({props:c})=>[u(T,$({onClick:n[0]||(n[0]=s=>r("radio-members")),class:"unselectable status-icon radio-members"},c),{default:m(()=>[p("mdi-account-multiple-outline ")]),_:2},1040)]),_:1},8,["text"])])]),l("div",Le,[q((v(),b("div",{class:"settings-div settings-button",onClick:n[1]||(n[1]=c=>r("settings"))},[u(_,{activator:"parent",location:"top"},{default:m(()=>[p(h(e.translations.info.openSettings),1)]),_:1}),u(T,{class:"settings-icon unselectable"},{default:m(()=>[p("mdi-dots-horizontal ")]),_:1})])),[[j]]),q((v(),b("div",{class:"settings-div join-radio-button",onClick:n[2]||(n[2]=c=>r("join-radio"))},[u(_,{activator:"parent",location:"top"},{default:m(()=>[p(h(e.translations.info.joinRadio),1)]),_:1}),u(T,{class:"settings-icon call-icon unselectable"},{default:m(()=>[p("mdi-phone ")]),_:1})])),[[j]])])],4))}});const Ve=D(De,[["__scopeId","data-v-84e29ecd"]]),Oe={class:"info-div settings2"},je=l("h1",{class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}}," Settings ",-1),Ce=l("hr",{style:{"margin-bottom":"15px"}},null,-1),ze={slot:"selection","slot-scope":"data"},Ie=S({__name:"Settings",props:["currentTab","settings","translations","disableAnonymous"],emits:["saveSetting"],setup(e,{emit:i}){function o(r,a){i("saveSetting",r,a)}return(r,a)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="settings"?1:0,"z-index":e.currentTab=="settings"?2:1})},[l("div",Oe,[je,Ce,u(N,{label:e.translations.settings.darkMode,modelValue:e.settings.darkTheme,"onUpdate:modelValue":[a[0]||(a[0]=n=>e.settings.darkTheme=n),a[1]||(a[1]=n=>o("theme",e.settings.darkTheme))],color:"white","hide-details":""},null,8,["label","modelValue"]),e.disableAnonymous!==!0?(v(),B(N,{key:0,label:e.translations.settings.anonymous,modelValue:e.settings.anonymous,"onUpdate:modelValue":[a[2]||(a[2]=n=>e.settings.anonymous=n),a[3]||(a[3]=n=>o("anonymous",e.settings.anonymous))],color:"white","hide-details":""},null,8,["label","modelValue"])):F("",!0),u(N,{label:e.translations.settings.allowDrag,modelValue:e.settings.allowDrag,"onUpdate:modelValue":[a[4]||(a[4]=n=>e.settings.allowDrag=n),a[5]||(a[5]=n=>o("allowDrag",e.settings.allowDrag))],color:"white","hide-details":""},null,8,["label","modelValue"]),u(ne,{items:I(fe),label:e.translations.settings.size,solo:"","hide-details":"","item-title":"text","item-value":"value",modelValue:e.settings.scale,"onUpdate:modelValue":[a[6]||(a[6]=n=>e.settings.scale=n),a[7]||(a[7]=n=>o("size",e.settings.scale))]},{default:m(()=>[l("template",ze,[p(h(e.translations.settings.size)+": "+h((e.settings.scale*100).toString())+"% ",1)])]),_:1},8,["items","label","modelValue"])])],4))}});const Me=e=>(J("data-v-384484b1"),e=e(),G(),e),Ne={class:"info-div"},He={class:"status-label",style:{"font-size":"22px","margin-bottom":"0px","padding-bottom":"5px","text-align":"center"}},Pe=Me(()=>l("hr",null,null,-1)),We={class:"radio-members-container"},Ee={key:0,class:"radio-member"},Ae={class:"radio-member-header"},Be=S({__name:"RadioMembers",props:["currentTab","currentFrequency","translations"],setup(e){const i=y([]);return P(()=>{window.addEventListener("message",function(o){switch(o.data.action){case"updateRadioMembers":i.value=o.data.data;break}})}),(o,r)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="radio-members"?1:0,"z-index":e.currentTab=="radio-members"?2:1})},[l("div",Ne,[l("h1",He,h(e.translations.radioMembers.title),1),Pe,l("div",We,[i.value.length==0||e.currentFrequency==0?(v(),b("div",Ee,[l("h1",Ae,h(e.currentFrequency==0?e.translations.radioMembers.notInChannel:e.translations.radioMembers.emptyMembersList),1)])):(v(!0),b(R,{key:1},U(i.value,(a,n)=>(v(),b("div",{class:"radio-member",key:n},[a!==null?(v(),b("h1",{key:0,class:"radio-member-header",style:L({color:a.talking==!0?"#fff":"rgb(225,225,225)"})},h(a.name),5)):F("",!0)]))),128))])])],4))}});const Ue=D(Be,[["__scopeId","data-v-384484b1"]]),Je={class:"info-div"},Ge={class:"status-label"},Ke=S({__name:"JoinRadio",props:["currentTab","currentFrequency","translations"],emits:["joinFrequency"],setup(e,{emit:i}){const o=y("");function r(){i("joinFrequency",o.value,!1)}return(a,n)=>(v(),b("div",{class:"item-container",style:L({opacity:e.currentTab=="join-radio"?"1":"0","z-index":e.currentTab=="join-radio"?2:1})},[l("div",Je,[l("h1",Ge,h(e.translations.joinRadio.title),1),u(se,{class:"frequency-input",label:e.translations.joinRadio.frequency,modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=c=>o.value=c),solo:"",variant:"underlined","hide-details":"",type:"number"},null,8,["label","modelValue"]),u(oe,{small:"",color:"var(--button-background)",class:"frequency-button",onClick:r},{default:m(()=>[p(h(o.value.trim().length==0&&e.currentFrequency!==0?e.translations.joinRadio.leave:e.translations.joinRadio.join),1)]),_:1})])],4))}});const Ye=D(Ke,[["__scopeId","data-v-ad69d2e1"]]),Qe=e=>(J("data-v-3c502bcf"),e=e(),G(),e),Xe=Qe(()=>l("div",{class:"header"},"Radio Members",-1)),Ze={class:"radio-member-list"},et=S({__name:"PlayerList",props:["radioMembers","allowDrag","show","scale"],setup(e){const i=e,o=y([]),r=y(!0),a=y(null);function n(s){i.allowDrag&&a.value!==null&&(s.right<0&&(s.right=0),s.right>window.innerWidth-a.value.offsetWidth&&(s.right=window.innerWidth-a.value.offsetWidth),s.top<0&&(s.top=0),s.top>window.innerHeight-a.value.offsetHeight&&(s.top=window.innerHeight-a.value.offsetHeight),s.target.style.right=`${s.right}px`,s.target.style.top=`${s.top}px`)}function c(s){i.allowDrag&&O("savesettings",{name:"position2",value:{left:s.target.style.right,top:s.target.style.top}})}return P(()=>{window.addEventListener("message",function(s){switch(s.data.action){case"updateRadioMembers":o.value=s.data.data;break;case"open":r.value=s.data.data.ShowPlayerList;break;case"setShowPlayerList":r.value=s.data.value;break;case"updateSettings":a.value!==null&&(s.data.data.position2.left<0&&(s.data.data.position2.left=0),s.data.data.position2.left>window.innerWidth-a.value.offsetWidth&&(s.data.data.position2.left=window.innerWidth-a.value.offsetWidth),s.data.data.position2.top<0&&(s.data.data.position2.top=0),s.data.data.position2.top>window.innerHeight-a.value.offsetHeight&&(s.data.data.position2.top=window.innerHeight-a.value.offsetHeight),typeof s.data.data.position2.left=="string"?a.value.style.right=s.data.data.position2.left:a.value.style.right=s.data.data.position2.left+"px",typeof s.data.data.position2.top=="string"?a.value.style.top=s.data.data.position2.top:a.value.style.top=s.data.data.position2.top+"px");break}})}),(s,f)=>(v(),b(R,null,[l("div",{class:"radio-members member-drag",ref_key:"playerList",ref:a,style:L({cursor:e.allowDrag?"move":"default",transform:"scale("+Number(e.scale)+")"})},[r.value&&Object.keys(o.value).length>0?(v(),b(R,{key:0},[Xe,l("div",Ze,[(v(!0),b(R,null,U(o.value,(g,k)=>(v(),b(R,{key:k},[g!==null?(v(),b("div",{key:0,class:K(["radio-member",{talking:g.talking}])},[l("span",null,h(g.name),1)],2)):F("",!0)],64))),128))])],64)):F("",!0)],4),u(I(Y),{target:[".member-drag"],draggable:!0,useResizeObserver:!1,onDrag:n,onDragEnd:c},null,8,["target"])],64))}});const tt=D(et,[["__scopeId","data-v-3c502bcf"]]),at={key:0,class:"items-container"},nt=S({__name:"App",setup(e){const i=y(!1),o=y(!0),r=y("main"),a=y(""),n=y("12:00"),c=y(0),s=y(""),f=y({}),g=y(""),k=y(!1),C=y(!1),d=y({darkTheme:!0,anonymous:!1,allowDrag:!1,scale:1,position:{left:0,top:0},volume:100}),x=y(null);function Z(t){d.value.allowDrag&&x.value!==null&&(t.left<0&&(t.left=0),t.left>window.innerWidth-x.value.offsetWidth&&(t.left=window.innerWidth-x.value.offsetWidth),t.top<0&&(t.top=0),t.top>window.innerHeight-x.value.offsetHeight&&(t.top=window.innerHeight-x.value.offsetHeight),d.value.position={left:t.left,top:t.top},t.target.style.left=`${t.left}px`,t.target.style.top=`${t.top}px`)}function ee(t){d.value.allowDrag&&x.value!==null&&O("savesettings",{name:"position",value:{left:t.target.style.left,top:t.target.style.top}})}function z(t){r.value=t}function W(){i.value=!1,O("close",{}),document.body.classList.remove("open")}function te(t){i.value=!0,r.value="main",C.value=t,document.body.classList.add("open")}function E(t,w){t=="theme"?(d.value.darkTheme=w,document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(d.value.darkTheme?"lightmode":"darkmode")):t=="volume"?d.value.volume=w:t=="anonymous"?C.value!==!0&&(d.value.anonymous=w):t=="size"?d.value.scale=w:t=="allowDrag"&&(d.value.allowDrag=w),O("savesettings",{name:t,value:w})}function M(t){const w=document.getElementById(t);w&&(w.load(),w.volume=d.value.volume/100*.5,w.play())}async function A(t,w){if(t!==void 0&&t!=="0"&&t!==""){M("click");const V=await O("joinRadio",{frequency:Number(t)});w!==!0&&(V.result==!0?(z("main"),H.fire({title:f.value.notifications.joinedRadioTitle,text:Q(f.value.notifications.joinedRadioText,[V.frequencyLabel!==""&&V.frequencyLabel!==void 0?`the ${V.frequencyLabel}`:`${V.frequency} MHz`]),icon:"success",target:".main-container"}),c.value=V.frequency):H.fire({title:f.value.notifications.lockedChannelTitle,text:f.value.notifications.lockedChannelText,icon:"error",target:".main-container"}))}else c.value!==0&&(M("click"),O("leaveRadio",{}),c.value=0,w!==!0&&(H.fire({title:f.value.notifications.leftRadioTitle,text:f.value.notifications.leftRadioText,icon:"success",target:".main-container"}),z("main")))}function ae(){o.value=!o.value}return P(()=>{document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",function(t){switch(t.keyCode){case 27:r.value=="main"?W():r.value="main";break}}),window.addEventListener("message",function(t){switch(t.data.action){case"open":te(t.data.data.DisableAnonymous);break;case"updateData":a.value=t.data.data.streetLabel,f.value=t.data.data.translations,k.value=!0,s.value=t.data.data.voiceScript,n.value=t.data.data.currentTime,c.value=t.data.data.radioFrequency,g.value=t.data.data.radioLabel;break;case"updateSettings":C.value!==!0&&(d.value.anonymous=t.data.data.anonymous),d.value.scale=t.data.data.size,t.data.data.theme==!0||t.data.data.theme=="dark"?d.value.darkTheme=!0:d.value.darkTheme=!1,document.body.classList.add(d.value.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(d.value.darkTheme?"lightmode":"darkmode"),t.data.data.volume&&(d.value.volume=t.data.data.volume),x.value!==null&&(t.data.data.position.left<0&&(t.data.data.position.left=0),t.data.data.position.left>window.innerWidth-x.value.offsetWidth&&(t.data.data.position.left=window.innerWidth-x.value.offsetWidth),t.data.data.position.top<0&&(t.data.data.position.top=0),t.data.data.position.top>window.innerHeight-x.value.offsetHeight&&(t.data.data.position.top=window.innerHeight-x.value.offsetHeight),t.data.data.position.left!==0&&(x.value.style.left=t.data.data.position.left,d.value.position.left=t.data.data.position.left),t.data.data.position.top!==0&&(x.value.style.top=t.data.data.position.top,d.value.position.top=Number(t.data.data.position.top.substring(0,t.data.data.position.top.length-2))));break}})}),(t,w)=>(v(),B(ie,{class:K({open:i.value})},{default:m(()=>[q(l("div",{class:"main-container",ref_key:"mainCont",ref:x,style:L({transform:i.value?"scale("+Number(d.value.scale)+")":" translateY(calc(100% + "+d.value.position.top+"px)) scale("+Number(d.value.scale)+")",opacity:i.value?"1":"0",cursor:d.value.allowDrag?"move":"default",background:o.value?"var(--background)":"#101121"})},[k.value?(v(),b(R,{key:0},[u(ye,{poweredOn:o.value,settings:d.value,time:n.value},null,8,["poweredOn","settings","time"]),o.value?(v(),b("div",at,[u(Ve,{onChangeTab:z,currentTab:r.value,street:a.value,translations:f.value,currentFrequency:c.value,customRadioName:g.value},null,8,["currentTab","street","translations","currentFrequency","customRadioName"]),u(Ye,{onJoinFrequency:A,currentTab:r.value,translations:f.value,currentFrequency:c.value},null,8,["currentTab","translations","currentFrequency"]),u(Ie,{currentTab:r.value,settings:d.value,translations:f.value,disableAnonymous:C.value,onSaveSetting:E},null,8,["currentTab","settings","translations","disableAnonymous"]),u(Ue,{currentFrequency:c.value,translations:f.value,currentTab:r.value},null,8,["currentFrequency","translations","currentTab"])])):F("",!0),u(pe,{onPlaySound:M,onChangeTab:z,onSaveSettings:E,onClose:W,onTogglePoweredOn:ae,onJoinFrequency:A,settings:d.value,currentTab:r.value,poweredOn:o.value,currentFrequency:c.value,translations:f.value},null,8,["settings","currentTab","poweredOn","currentFrequency","translations"])],64)):F("",!0)],4),[[le,k.value]]),u(I(Y),{target:[".main-container"],draggable:!0,useResizeObserver:!1,onDrag:Z,onDragEnd:ee},null,8,["target"]),u(tt,{allowDrag:d.value.allowDrag,scale:d.value.scale},null,8,["allowDrag","scale"])]),_:1},8,["class"]))}});const st=D(nt,[["__scopeId","data-v-ab2c726a"]]);const X=re(st);X.use(ue({components:de,directives:ce,theme:{defaultTheme:"dark"}}));X.mount("#app");
