var audioPlayer=null;let ListenersAdded=!1,setColours=!1,audioPlayerId=0,soundList=[];function toggleARSMenu(e){document.getElementById("menucontainer").style.display=e?"flex":"none"}function toggleLightColour(e,t){document.getElementById("light").style.background=t?"#00e700":"#e40808",t?e.style.setProperty("--power_btn_sirens_on","#e40808"):e.style.setProperty("--power_btn_sirens_on","#00e700")}function toggleActivateSirenDisplay(e){document.getElementById("sirendisplay").style.display=e?"flex":"none"}function addButtonSound(e){let t=document.querySelector(e),n=document.getElementById("heartbeat");audios=document.querySelectorAll("audio"),t.addEventListener("click",function(){n.volume=.1,n.play()},!1)}window.addEventListener("message",e=>{let t=e.data,n=document.querySelector(":root");if("ARS"==e.data.submissionType&&(null!=audioPlayer&&audioPlayer.pause(),(audioPlayer=new Howl({src:["./NUI/sounds/"+e.data.submissionFile+".ogg"],loop:!0,html5:!0,autoplay:!1,volume:e.data.submissionVolume})).playing()&&audioPlayer.stop(),audioPlayer.play()),"STOPARS"==e.data.submissionType&&null!=audioPlayer&&(audioPlayer.fade(e.data.submissionVolume,0,2500),setTimeout(function(){audioPlayer.stop()},2500)),"arsmenu"===t.type){let i=t.resname,a=t.openmenu,o=t.arstitle,s=t.sirenson;t.soundfilename;let d=t.soundfiledisplayname;toggleARSMenu(a),!1===ListenersAdded&&(document.getElementById("exitbutton").addEventListener("click",function(){$.post("https://"+i+"/exit",JSON.stringify({}))}),document.getElementById("leftbutton").addEventListener("click",function(){$.post("https://"+i+"/soundFileLeft",JSON.stringify({}))}),addButtonSound('[data-btn-name="left-btn"]'),document.getElementById("rightbutton").addEventListener("click",function(){$.post("https://"+i+"/soundFileRight",JSON.stringify({}))}),addButtonSound('[data-btn-name="right-btn"]'),document.addEventListener("keyup",function(e){("Escape"===e.key||"Backspace"===e.key)&&$.post("https://"+i+"/exit",JSON.stringify({}))}),addButtonSound('[data-btn-name="exit-btn"]'),ListenersAdded=!0),$("#menuwrappers").html(""),$("#menuwrappers").append('<div class="menucontainer_header">'+o+'</div><div class="menucontainer_contentwrapper"><div class="button" id="button" data-btn-name="power-btn"><div class="light" id="light"></div></div></div><div class="menucontainer_footer">'+d+"</div>"),toggleLightColour(n,s),toggleActivateSirenDisplay(s),addButtonSound('[data-btn-name="power-btn"]'),document.getElementById("button").addEventListener("click",function(){$.post("https://"+i+"/toggleARS",JSON.stringify({}))})}});